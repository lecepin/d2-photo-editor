{"version":3,"sources":["store/MobxStore.js","store/index.js","components/Skeleton/index.jsx","components/PanelGenImg/index.jsx","components/PanelAbout/index.jsx","components/PanelTpl/index.jsx","components/PanelLogo/index.jsx","components/PanelComponent/index.jsx","components/PanelAttribute/index.jsx","components/DesignRender/utils.js","components/DesignRender/index.jsx","components/PanelCanvasBase/components/HoverGhost/index.jsx","components/PanelCanvasBase/components/SelectGhost/line.jsx","components/PanelCanvasBase/components/SelectGhost/images/del.svg","components/PanelCanvasBase/components/SelectGhost/images/drag.svg","components/PanelCanvasBase/components/SelectGhost/images/copy.svg","components/PanelCanvasBase/components/SelectGhost/images/top.svg","components/PanelCanvasBase/components/SelectGhost/images/bottom.svg","components/PanelCanvasBase/components/SelectGhost/index.jsx","components/PanelCanvasBase/utils.jsx","components/PanelCanvasAbsolute/index.jsx","components/PanelResizeCanvas/index.jsx","components/PanelOutline/compoents/static/page.svg","components/PanelOutline/compoents/static/group.svg","components/PanelOutline/compoents/static/link.svg","components/PanelOutline/compoents/TreeNode.jsx","components/PanelOutline/compoents/static/arrow.svg","components/PanelOutline/compoents/TreeGroup.jsx","components/PanelOutline/compoents/utils.js","components/PanelOutline/compoents/Tree.jsx","components/PanelOutline/index.jsx","components/PropSetters/TextSetter/index.jsx","components/PropSetters/SelectSetter/index.jsx","components/PropSetters/index.jsx","components/ComponentBanner/Picture/setter.uploader.jsx","components/ComponentBanner/Picture/designView.jsx","components/ComponentBanner/Picture/view.jsx","components/ComponentBanner/Picture/attribute.jsx","components/ComponentBanner/Logo/designView.jsx","components/ComponentBanner/Logo/setter.uploader.jsx","components/ComponentBanner/Logo/view.jsx","components/ComponentBanner/index.jsx","components/ComponentBanner/Logo/attribute.jsx","components/PanelDSL/index.jsx","utils/SingleEventBus.js","app.jsx","index.jsx"],"names":["dsl","page","makeObservable","this","observable","setDSL","action","id","value","prop","_delPageDsl","i","length","item","splice","Array","isArray","children","findSubItem","componentItem","props","map","name","componentName","nanoid","push","_getPageDSL","_setPageDslProp","MobxStore","Skeleton","state","dockSelectName","ctx","set","handleFloatBoxOutsideClickHiden","bind","refLeftArea","leftAreaSelectItem","window","addEventListener","removeEventListener","e","contains","target","boxType","handleDockItemOnSelect","topArea","_leftArea","_rightArea","_centerArea","hidden","React","isValidElement","content","align","className","key","cloneElement","leftArea","_topArea","_bottomArea","selectContent","classnames","onClick","placement","title","src","icon","disabled","style","width","toolbarArea","centerArea","rightArea","setState","renderTopArea","ref","_","renderLeftArea","renderToolbar","renderCenterArea","renderRightArea","PureComponent","defaultProps","PanelGenImg","visible","handleOpenDialog","handleCloseDialog","handleDownload","handleOnKeyGenImg","ctrlKey","metaKey","keyCode","preventDefault","hideMsg","message","loading","html2canvas","document","getElementById","get","containerId","allowTaint","useCORS","scale","then","canvas","toDataURL","refDownloadA","href","download","Date","now","refPreview","setTimeout","finally","body","click","type","onCancel","maskClosable","footer","textAlign","maxWidth","maxHeight","border","Component","PanelAbout","GithubOutlined","size","open","PanelTpl","show","list","canDel","JSON","parse","localStorage","getItem","text","setItem","stringify","filter","success","dslManager","Button","toLocaleString","overlay","info","index","Item","display","justifyContent","alignItems","stopPropagation","danger","DeleteOutlined","onOk","handleSaveTpl","cancelText","okText","onChange","prefix","autoFocus","PanelLogo","color","fontWeight","height","Logger","level","PanelComponent","refGhost","handleOnDragStart","handleOnDrag","handleOnDragEnd","dataTransfer","dataset","effectAllowed","innerText","setDragImage","clientHeight","setData","cursor","getElementsByTagName","sortComponentList","data","result","forEach","category","Object","entries","sortByGroup","onDragStart","onDragEnd","onDrag","defaultActiveKey","bordered","f","group","Panel","header","component","span","draggable","logger","PanelAttribute","componentInfo","dslInfo","offEventNodeSelect","handleEventNodeSelect","on","log","setter","setValue","setPageDslProp","observer","parseProps","context","keys","renderStyle","schema","css","replace","concat","renderSchema","components","createElement","view","toLower","__componentName","__id","appendStyle","_oldEl","innerHTML","el","setAttribute","appendChild","DesignRender","getComponentInstance","utils","HoverGhost","portalDom","ReactDOM","findDOMNode","styles","getEl","refName","textContent","nodeInfo","getBoundingClientRect","boundLeft","left","boundTop","top","offsetWidth","offsetHeight","setStyle","setName","removeChild","createPortal","x","y","sizeStyle","borderColor","SelectGhost","_node","startDrag","startMoveDir","refMask","refTopHorLine","refLeftVerLine","refRightVerLine","startPos","attractDelta","handleClickResize","handleWindowResize","throttle","handleMouseDown","handleMouseMove","handleMouseUp","handleDel","handleToBottom","handleToTop","canvasDomId","boundRight","right","bottom","opStyle","innerWidth","refOp","_setNodeStyle","emit","mouseX","mouseY","clientWidth","parseInt","offsetTop","offsetLeft","selectTop","selectLeft","dir","selectStyle","classList","transition","canvasPosition","elStyle","diffPos","clientX","clientY","zIndex","dealTop","dealLeft","setPos","refBottomHorLine","cssObj","onDel","setNode","onToTop","componentInstance","currentId","currentCss","zIndexsComponent","replaceId","replaceCss","arr","getComputedStyle","getPropertyValue","swapValue","onToBottom","canResize","onMouseDown","SvgDrag","SvgTop","SvgBottom","SvgDel","getComponentNodeByFiberNode","fiberNode","memoizedProps","return","stateNode","getDSLById","error","PanelCanvasAbsolute","Map","currentHover","currentSelect","currentDragHover","refCanvas","refHoverGhost","refSelectGhost","refDesignRender","draging","handleOnMouseOver","debounce","handleOnClickCapture","handleOnDragOver","handleOnDrop","handleOnClick","handleSelectGhostOnDragStart","handleSelectGhostOnDrag","handleSelectGhostOnDragEnd","handleSelectGhostOnDel","handleGetComponentInstance","handleSelectGhostOnToZIndex","handleOnMouseLeave","selectNodeById","hoverNodeById","handleWinOnDragOver","getData","addPageDSL","_mergeCss","join","cssText","cssParse","silent","stylesheet","parsingErrors","rules","declarations","property","fiberId","find","startsWith","node","delPageDsl","getPageDSL","onClickCapture","onDragOver","onDrop","onMouseLeave","PanelResizeCanvas","typeMap","hor","ver","handleOnKeyExchange","changeDomSize","changeDSL","exchange","canvasDOM","handleOnChange","SwapOutlined","TreeNode","renderIcon","getSvg","svgPage","svgGroup","link","svgLink","renderTitle","renderOp","currentTarget","add","onTreeNodeDragStart","remove","onTreeNodeDragEnd","TreeGroup","expanded","expandedAll","showLine","lastChild","onDragLeave","svgArrow","getNodeByIdAndDel","setNodeByIdAndInsert","Tree","dragEnterIndex","dragEnterDOM","dragPlaceholderIndex","refDragPlaceholder","hoverItem","isDraging","nextProps","onHover","elParent","parentElement","lastElementChild","enterElTop","enterElHeight","includes","insertBefore","nextElementSibling","placeholderData","__lp_tree_node_id","cloneDeep","onDragEnter","firstElementChild","onMouseOver","r","ReactDom","pageDsl","str","other","slice","sort","a","b","getZIndex","Number","match","otherProps","dataSource","Option","TextSetter","SelectSetter","file","URL","createObjectURL","showUploadList","beforeUpload","uploadOnChange","UploadOutlined","url","t","viewBox","version","xmlns","d","canOperate","description","supportVariable","jx","d2","Picture","PanelDSL","language","SingleEventBus","event","events","eventName","args","callback","removeListener","removeAllListeners","__ctx","dslInstance","DSL","App","openDockByName","render"],"mappings":"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","file":"static/js/main.d81a06dd.chunk.js","sourcesContent":["import { makeObservable, observable, action, computed } from \"mobx\";\nimport { nanoid } from \"nanoid\";\n\nexport default class {\n  dsl = { page: [] };\n  constructor(dsl = { page: [] }) {\n    makeObservable(this, {\n      dsl: observable,\n      setDSL: action,\n    });\n\n    this.dsl = dsl;\n  }\n\n  setDSL(dsl) {\n    this.dsl = dsl;\n  }\n\n  getDSLById(id) {}\n\n  setDSLById(id, value) {}\n\n  setDSLPropValueById(id, prop, value) {}\n\n  getDSLPropValueById(id, prop) {}\n\n  delPageDsl(id) {\n    const page = this.dsl?.page || [];\n\n    this._delPageDsl(page, id);\n  }\n\n  _delPageDsl(dsl, id) {\n    for (let i = 0; i < dsl?.length; i++) {\n      const item = dsl[i];\n\n      if (item?.id == id) {\n        return dsl.splice(i, 1)[0];\n      }\n\n      if (Array.isArray(item.children)) {\n        const findSubItem = this._delPageDsl(item.children, id);\n\n        if (findSubItem) {\n          return findSubItem;\n        }\n      }\n    }\n  }\n\n  addPageDSL(componentItem) {\n    const props = {};\n\n    componentItem.props?.map((prop) => {\n      props[prop.name] = prop.value;\n    });\n\n    const item = {\n      id: componentItem.componentName + \"_\" + nanoid(),\n      componentName: componentItem.componentName,\n      props,\n    };\n\n    this.dsl.page.push(item);\n\n    return item;\n  }\n\n  getPageDSL(id) {\n    const page = this.dsl?.page || [];\n\n    return this._getPageDSL(page, id);\n  }\n\n  _getPageDSL(dsl, id) {\n    for (let i = 0; i < dsl?.length; i++) {\n      const item = dsl[i];\n\n      if (item?.id == id) {\n        return item;\n      }\n\n      if (Array.isArray(item.children)) {\n        const findSubItem = this._getPageDSL(item.children, id);\n\n        if (findSubItem) {\n          return findSubItem;\n        }\n      }\n    }\n  }\n\n  setPageDslProp(name, value, id) {\n    const page = this.dsl?.page || [];\n\n    this._setPageDslProp(page, name, value, id);\n  }\n\n  _setPageDslProp(dsl, name, value, id) {\n    for (let i = 0; i < dsl?.length; i++) {\n      const item = dsl[i];\n\n      if (item?.id == id) {\n        item.props[name] = value;\n        return;\n      }\n\n      if (Array.isArray(item.children)) {\n        const findSubItem = this._setPageDslProp(\n          item.children,\n          name,\n          value,\n          id\n        );\n\n        if (findSubItem) {\n          return findSubItem;\n        }\n      }\n    }\n  }\n}\n","import MobxStore from \"./MobxStore\";\n\nexport default MobxStore;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport { Tooltip } from \"antd\";\n\nimport \"antd/dist/antd.min.css\";\nimport \"./index.less\";\n\nclass Skeleton extends React.PureComponent {\n  static defaultProps = {\n    ctx: {},\n    topArea: [],\n    leftArea: [],\n    centerArea: [],\n    rightArea: [],\n    toolbarArea: [],\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dockSelectName: \"\",\n    };\n\n    this.props.ctx.set(\"skeleton\", this);\n\n    this.handleFloatBoxOutsideClickHiden =\n      this.handleFloatBoxOutsideClickHiden.bind(this);\n    this.refLeftArea = this.leftAreaSelectItem = null;\n  }\n\n  componentDidMount() {\n    window.addEventListener(\n      \"click\",\n      this.handleFloatBoxOutsideClickHiden,\n      true\n    );\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\n      \"click\",\n      this.handleFloatBoxOutsideClickHiden,\n      true\n    );\n  }\n\n  handleFloatBoxOutsideClickHiden(e) {\n    // left \n    if (this.refLeftArea?.contains(e.target)) {\n      return;\n    }\n\n    //  flat \n    if (this.leftAreaSelectItem?.boxType != \"float\") {\n      return;\n    }\n\n    this.handleDockItemOnSelect();\n  }\n\n  renderTopArea() {\n    const { topArea, ctx } = this.props;\n    const _leftArea = [];\n    const _rightArea = [];\n    const _centerArea = [];\n\n    topArea.map((item) => {\n      if (item.hidden || !React.isValidElement(item.content)) {\n        return;\n      }\n\n      if (item.align === \"left\" || !item.align) {\n        _leftArea.push(item);\n      } else if (item.align === \"center\") {\n        _centerArea.push(item);\n      } else if (item.align === \"right\") {\n        _rightArea.push(item);\n      }\n    });\n\n    return (\n      <>\n        <div className=\"skeleton-top-area-left\">\n          {_leftArea.map((item, key) =>\n            React.cloneElement(item.content, { ctx: ctx, key })\n          )}\n        </div>\n        <div className=\"skeleton-top-area-center\">\n          {_centerArea.map((item, key) =>\n            React.cloneElement(item.content, { ctx: ctx, key })\n          )}\n        </div>\n        <div className=\"skeleton-top-area-right\">\n          {_rightArea.map((item, key) =>\n            React.cloneElement(item.content, { ctx: ctx, key })\n          )}\n        </div>\n      </>\n    );\n  }\n\n  renderLeftArea() {\n    const { leftArea, ctx } = this.props;\n    const { dockSelectName } = this.state;\n    const _topArea = [];\n    const _bottomArea = [];\n    let selectContent = null;\n    this.leftAreaSelectItem = {};\n\n    leftArea.map((item) => {\n      if (item.hidden || !React.isValidElement(item.content)) {\n        return;\n      }\n\n      if (item.name === dockSelectName) {\n        selectContent = item.content;\n        this.leftAreaSelectItem = item;\n      }\n\n      if (item.align === \"top\" || !item.align) {\n        _topArea.push(item);\n      } else if (item.align === \"bottom\") {\n        _bottomArea.push(item);\n      }\n    });\n\n    return (\n      <>\n        <div className=\"skeleton-left-area-dock\">\n          <div className=\"skeleton-left-area-dock-top\">\n            {_topArea.map((item, key) => (\n              <div\n                className={classnames(\"skeleton-left-area-dock-item\", {\n                  \"skeleton-left-area-dock-item-selected\":\n                    item.name === dockSelectName,\n                })}\n                key={key}\n                onClick={() => this.handleDockItemOnSelect(item)}\n              >\n                <Tooltip placement=\"right\" title={item.title}>\n                  <img\n                    src={item.icon}\n                    className={classnames({\n                      \"skeleton-left-area-dock-item-disabled\": item.disabled,\n                    })}\n                  />\n                </Tooltip>\n              </div>\n            ))}\n          </div>\n          <div className=\"skeleton-left-area-dock-bottom\">\n            {_bottomArea.map((item, key) => (\n              <div\n                className={classnames(\"skeleton-left-area-dock-item\", {\n                  \"skeleton-left-area-dock-item-selected\":\n                    item.name === dockSelectName,\n                })}\n                key={key}\n                onClick={() => this.handleDockItemOnSelect(item)}\n              >\n                <Tooltip placement=\"right\" title={item.title}>\n                  <img\n                    src={item.icon}\n                    className={classnames({\n                      \"skeleton-left-area-dock-item-disabled\": item.disabled,\n                    })}\n                  />\n                </Tooltip>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/*  */}\n        {/* class  prop  */}\n        {/* todo:   */}\n        {selectContent ? (\n          <div\n            className={classnames({\n              \"skeleton-left-area-panel-fixed\":\n                this.leftAreaSelectItem?.boxType != \"float\",\n              \"skeleton-left-area-panel-float\":\n                this.leftAreaSelectItem?.boxType == \"float\",\n            })}\n            style={(() => {\n              if (this.leftAreaSelectItem?.width) {\n                return {\n                  width: this.leftAreaSelectItem.width,\n                };\n              }\n              return {};\n            })()}\n          >\n            {React.cloneElement(selectContent, { ctx: ctx })}\n          </div>\n        ) : null}\n      </>\n    );\n  }\n\n  renderToolbar() {\n    const { toolbarArea, ctx } = this.props;\n\n    if (!toolbarArea.length) {\n      return null;\n    }\n\n    return <div className=\"skeleton-center-toolbar\"></div>;\n  }\n\n  renderCenterArea() {\n    const { centerArea, ctx } = this.props;\n\n    return (\n      <div className=\"skeleton-center-area\">\n        {centerArea.map((item, key) => {\n          if (item.hidden || !React.isValidElement(item.content)) {\n            return;\n          }\n\n          return React.cloneElement(item.content, { ctx: ctx, key });\n        })}\n      </div>\n    );\n  }\n\n  renderRightArea() {\n    const { rightArea, ctx } = this.props;\n\n    return (\n      <div className=\"skeleton-right-area\">\n        {rightArea.map((item, key) => {\n          if (item.hidden || !React.isValidElement(item.content)) {\n            return;\n          }\n\n          return React.cloneElement(item.content, { ctx: ctx, key });\n        })}\n      </div>\n    );\n  }\n\n  handleDockItemOnSelect(item) {\n    const { dockSelectName } = this.state;\n\n    if (item?.disabled) {\n      return;\n    }\n\n    this.setState({\n      dockSelectName: item?.name === dockSelectName ? \"\" : item?.name,\n    });\n  }\n\n  openDockByName(name) {\n    this.setState({\n      dockSelectName: name,\n    });\n  }\n\n  render() {\n    const { topArea, leftArea, centerArea, rightArea, ctx } = this.props;\n\n    return (\n      <div className=\"skeleton\">\n        <div className=\"skeleton-top-area\">{this.renderTopArea()}</div>\n        <div className=\"skeleton-bottom\">\n          <div\n            className=\"skeleton-left-area\"\n            ref={(_) => (this.refLeftArea = _)}\n          >\n            {this.renderLeftArea()}\n          </div>\n          <div className=\"skeleton-center\">\n            {this.renderToolbar()}\n            {this.renderCenterArea()}\n          </div>\n          {this.renderRightArea()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Skeleton;\n","import React from \"react\";\nimport html2canvas from \"html2canvas\";\nimport { Button, Modal, message } from \"antd\";\n\nimport \"antd/lib/button/style/index.css\";\nimport \"antd/lib/modal/style/index.css\";\nimport \"antd/lib/message/style/index.css\";\n\nclass PanelGenImg extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: false,\n    };\n\n    this.handleOpenDialog = this.handleOpenDialog.bind(this);\n    this.handleCloseDialog = this.handleCloseDialog.bind(this);\n    this.handleDownload = this.handleDownload.bind(this);\n    this.handleOnKeyGenImg = this.handleOnKeyGenImg.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleOnKeyGenImg);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleOnKeyGenImg);\n  }\n\n  handleOnKeyGenImg(e) {\n    const { visible } = this.state;\n    // cmd + S\n    if ((e.ctrlKey || e.metaKey) && e.keyCode == 83 && !visible) {\n      e.preventDefault();\n      this.handleOpenDialog(false);\n    }\n  }\n\n  handleOpenDialog(visible = true) {\n    const { ctx } = this.props;\n    const hideMsg = message.loading(\"\");\n\n    html2canvas(document.getElementById(ctx.get(\"canvas\").containerId), {\n      allowTaint: true,\n      useCORS: true,\n      scale: 4,\n    })\n      .then((canvas) => {\n        hideMsg();\n        this.setState(\n          {\n            visible,\n          },\n          () => {\n            const src = canvas.toDataURL();\n\n            this.refDownloadA.href = src;\n            this.refDownloadA.download = Date.now() + \".png\";\n\n            !visible\n              ? setTimeout(() => this.handleDownload())\n              : (this.refPreview.src = src);\n          }\n        );\n      })\n      .finally(() => {\n        //  selectGhost \n        window.document.body.click();\n      });\n  }\n\n  handleCloseDialog() {\n    this.setState({\n      visible: false,\n    });\n  }\n\n  handleDownload() {\n    this.refDownloadA.click();\n  }\n\n  render() {\n    const { ctx } = this.props;\n    const { visible } = this.state;\n\n    return (\n      <div>\n        <Button type=\"primary\" onClick={this.handleOpenDialog}>\n          (Cmd+S)\n        </Button>\n\n        <a ref={(_) => (this.refDownloadA = _)}></a>\n\n        <Modal\n          title=\"\"\n          visible={visible}\n          onCancel={this.handleCloseDialog}\n          maskClosable={false}\n          footer={[\n            <Button type=\"primary\" onClick={this.handleDownload} key=\"1\">\n              \n            </Button>,\n          ]}\n        >\n          <div style={{ textAlign: \"center\" }}>\n            <img\n              style={{\n                maxWidth: \"100%\",\n                maxHeight: \"60vh\",\n                border: \"1px dashed \",\n              }}\n              ref={(_) => (this.refPreview = _)}\n            />\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default PanelGenImg;\n","import React from \"react\";\nimport { Button } from \"antd\";\nimport { GithubOutlined } from \"@ant-design/icons\";\nimport \"antd/lib/button/style/index.css\";\n\nclass PanelAbout extends React.Component {\n  render() {\n    return (\n      <div>\n        <Button\n          type=\"text\"\n          icon={<GithubOutlined size=\"large\" />}\n          onClick={() => {\n            window.open(\"http://github.com/lecepin\");\n          }}\n        ></Button>\n      </div>\n    );\n  }\n}\n\nexport default PanelAbout;\n","import React from \"react\";\nimport { Menu, Dropdown, Input, Modal, Button, message } from \"antd\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport \"antd/lib/button/style/index.css\";\n\nclass PanelTpl extends React.Component {\n  state = {\n    show: false,\n    value: \"\",\n    list: [\n      {\n        title: \"\",\n        value:\n          '{\"page\":[{\"id\":\"Picture_xJ27Wh9O3muw6haQPoKsO\",\"componentName\":\"Picture\",\"props\":{\"url\":\"https://img.alicdn.com/imgextra/i3/O1CN01oNV2HE1wltLn3iEtB_!!6000000006349-55-tps-300-200.svg\",\"css\":\":root {width:600px;z-index:0;left:0px;top:0px}\"}},{\"id\":\"Logo_pQj-9HV36c7jzCq-gDafJ\",\"componentName\":\"Logo\",\"props\":{\"type\":\"jx\",\"css\":\":root {width:129px;z-index:1;left:449px;top:290px}\"}}]}',\n        canDel: false,\n      },\n      {\n        title: \"\",\n        value:\n          '{\"page\":[{\"id\":\"Picture_MarA0CsrJqB4bUGRkIRKi\",\"componentName\":\"Picture\",\"props\":{\"url\":\"https://img.alicdn.com/imgextra/i4/O1CN01N0gbIu1a6Hp83Ytej_!!6000000003280-55-tps-200-300.svg\",\"css\":\":root {width:400px;z-index:0;left:0px;top:0px}\"}},{\"id\":\"Logo_3Lrzrwj_iKJqPIouRipMt\",\"componentName\":\"Logo\",\"props\":{\"type\":\"jx\",\"css\":\":root {width:129px;z-index:2;left:271px;top:498px}\"}}]}',\n        canDel: false,\n      },\n    ],\n  };\n\n  componentDidMount() {\n    try {\n      const list = JSON.parse(localStorage.getItem(\"_d2_tpl_data\"));\n      this.setState({\n        list: [...this.state.list, ...list],\n      });\n    } catch (e) {}\n  }\n\n  handleCloseDialog() {\n    this.setState({ show: false });\n  }\n\n  handleSaveTpl(text, value) {\n    this.setState(\n      {\n        list: [...this.state.list, { title: text, value, canDel: true }],\n        show: false,\n      },\n      () => {\n        localStorage.setItem(\n          \"_d2_tpl_data\",\n          JSON.stringify(this.state.list.filter((item) => item.canDel))\n        );\n        message.success(\"\");\n      }\n    );\n  }\n\n  render() {\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n    const { show, value, list } = this.state;\n\n    return (\n      <div>\n        <Dropdown.Button\n          onClick={() => {\n            this.setState({\n              show: true,\n              value: new Date().toLocaleString(),\n            });\n          }}\n          overlay={\n            <Menu\n              onClick={({ key }) => {\n                dslManager.setDSL(JSON.parse(list[key].value));\n                message.info(\"\");\n              }}\n            >\n              {list?.map((item, index) => (\n                <Menu.Item key={index}>\n                  <div\n                    style={{\n                      display: \"flex\",\n                      justifyContent: \"space-between\",\n                      alignItems: \"center\",\n                    }}\n                  >\n                    <span>{item.title}</span>\n                    <Button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        list.splice(index, 1);\n                        this.setState({ list }, () => {\n                          localStorage.setItem(\n                            \"_d2_tpl_data\",\n                            JSON.stringify(\n                              this.state.list.filter((item) => item.canDel)\n                            )\n                          );\n                        });\n                      }}\n                      danger\n                      disabled={!item.canDel}\n                      type=\"text\"\n                      icon={<DeleteOutlined />}\n                    ></Button>\n                  </div>\n                </Menu.Item>\n              ))}\n            </Menu>\n          }\n        >\n          \n        </Dropdown.Button>\n        <Modal\n          title=\"\"\n          visible={show}\n          onCancel={() => this.handleCloseDialog()}\n          onOk={() => this.handleSaveTpl(value, JSON.stringify(dslManager.dsl))}\n          cancelText=\"\"\n          okText=\"\"\n        >\n          <Input\n            value={value}\n            onChange={(e) => this.setState({ value: e.target.value })}\n            prefix={<div></div>}\n            autoFocus\n          />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default PanelTpl;\n","import React from \"react\";\n\nclass PanelLogo extends React.Component {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          color: \"#f14767\",\n          fontWeight: \"bold\",\n        }}\n      >\n        <img\n          src=\"https://img.alicdn.com/imgextra/i3/O1CN01eil6G51NU1LH5f3bY_!!6000000001572-2-tps-586-90.png\"\n          height=\"30\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default PanelLogo;\n","import React from \"react\";\nimport { Collapse, Row, Col } from \"antd\";\nimport Logger from \"lp-logger\";\n\nimport \"antd/dist/antd.min.css\";\nimport \"./index.less\";\n\nconst logger = new Logger({\n  name: \"le-PanelComponent\",\n  level: \"error\",\n});\n\nfunction sortByGroup(data) {\n  const result = {};\n\n  data.forEach((item, key) => {\n    if (!result[item.category]) {\n      result[item.category] = [];\n    }\n\n    item.hidden != true && result[item.category].push(item);\n  });\n\n  return Object.entries(result)\n    .filter((item) => item[1].length)\n    .map((item, index) => ({\n      key: item[0],\n      id: index,\n      value: item[1],\n    }));\n}\n\nclass PanelComponent extends React.Component {\n  static defaultProps = {};\n\n  constructor(props) {\n    super(props);\n\n    this.refGhost = null;\n\n    this.handleOnDragStart = this.handleOnDragStart.bind(this);\n    this.handleOnDrag = this.handleOnDrag.bind(this);\n    this.handleOnDragEnd = this.handleOnDragEnd.bind(this);\n  }\n\n  handleOnDragStart({ target, dataTransfer }) {\n    if (target.dataset[\"type\"] != \"component\") {\n      return;\n    }\n\n    if (!this.refGhost) {\n      return;\n    }\n\n    dataTransfer.effectAllowed = \"move\";\n\n    this.refGhost.innerText = target.dataset[\"title\"];\n    dataTransfer.setDragImage(this.refGhost, 0, this.refGhost.clientHeight / 2);\n    dataTransfer.setData(\"componentName\", target.dataset[\"componentName\"]);\n  }\n\n  handleOnDrag({ target }) {\n    target.style.cursor = \"unset\";\n    window.document.getElementsByTagName(\"html\")[0].style.cursor = \"move\";\n  }\n\n  handleOnDragEnd({ target }) {\n    window.document.getElementsByTagName(\"html\")[0].style.cursor = \"default\";\n    target.style.cursor = \"grab\";\n  }\n\n  render() {\n    const { ctx } = this.props;\n    const sortComponentList = sortByGroup(ctx.get(\"component\"));\n\n    return (\n      <div\n        className=\"panel-component\"\n        onDragStart={this.handleOnDragStart}\n        onDragEnd={this.handleOnDragEnd}\n        onDrag={this.handleOnDrag}\n      >\n        <div className=\"panel-component-ghost-hidden\">\n          <div\n            className=\"panel-component-ghost\"\n            ref={(_) => (this.refGhost = _)}\n          ></div>\n        </div>\n        <Collapse\n          defaultActiveKey={sortComponentList.map((item) => item.id)}\n          bordered={false}\n          onChange={(f) => f}\n        >\n          {sortComponentList.map((group) => (\n            <Collapse.Panel header={group.key} key={group.id}>\n              <Row>\n                {group.value.map((component, key) => (\n                  <Col span={6} key={key}>\n                    <div\n                      className=\"panel-component-item\"\n                      draggable\n                      title={component.title}\n                      data-type=\"component\"\n                      data-title={component.title}\n                      data-component-name={component.componentName}\n                    >\n                      {/* <img\n                        draggable=\"false\"\n                        className=\"panel-component-item-img\"\n                        src={component.icon}\n                      /> */}\n                      {component.icon}\n                      <div className=\"panel-component-item-title\">\n                        {component.title}\n                      </div>\n                    </div>\n                  </Col>\n                ))}\n              </Row>\n            </Collapse.Panel>\n          ))}\n        </Collapse>\n      </div>\n    );\n  }\n}\n\nexport default PanelComponent;\n","import React from \"react\";\nimport Logger from \"lp-logger\";\nimport { observer } from \"mobx-react\";\n\nimport \"./index.less\";\n\nconst logger = new Logger({\n  name: \"le-PanelAttribute\",\n  level: \"error\",\n});\n\nclass PanelAttribute extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      componentInfo: null,\n      dslInfo: null,\n    };\n\n    this.offEventNodeSelect = null;\n    this.handleEventNodeSelect = this.handleEventNodeSelect.bind(this);\n  }\n\n  componentDidMount() {\n    const { ctx } = this.props;\n\n    this.offEventNodeSelect = ctx\n      ?.get(\"event\")\n      ?.on?.(\"le.node.select\", this.handleEventNodeSelect);\n  }\n\n  componentWillUnmount() {\n    this.offEventNodeSelect?.();\n  }\n\n  handleEventNodeSelect(e) {\n    logger.log(\"handleEventNodeSelect\", e);\n    this.setState({\n      componentInfo: e?.componentInfo,\n      dslInfo: e?.dslInfo,\n    });\n  }\n\n  render() {\n    const { componentInfo, dslInfo } = this.state;\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n\n    logger.log(\"render\");\n\n    if (!componentInfo) {\n      return (\n        <div className=\"panel-attribute\">\n          <div className=\"panel-attribute-noselect\"></div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"panel-attribute\">\n        <div className=\"panel-attribute-name\">{componentInfo?.title}</div>\n        <div className=\"panel-attribute-content\">\n          {componentInfo?.props\n            ?.filter((item) => item.display != \"none\")\n            ?.map((item, index) => (\n              <div key={index} className=\"panel-attribute-item\">\n                <div className=\"panel-attribute-item-title\">{item.title}</div>\n                <div className=\"panel-attribute-item-content\">\n                  {React.cloneElement(item.setter, {\n                    value: dslInfo.props[item.name],\n                    setValue: (value) =>\n                      dslManager.setPageDslProp(item.name, value, dslInfo.id),\n                  })}\n                </div>\n              </div>\n            ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default observer(PanelAttribute);\n","import React from \"react\";\nimport { toLower } from \"lodash\";\n\n//  Schema\nfunction renderStyle(schema) {\n  if (!schema) {\n    return \"\";\n  }\n\n  const result = [];\n\n  (Array.isArray(schema) ? schema : [schema]).map((item) => {\n    if (item?.props?.css && item.id) {\n      result.push({\n        id: item.id,\n        css: item.props.css.replace(\":root\", `.${item.id}`),\n      });\n      result.concat(renderStyle(item.children));\n    }\n  });\n\n  return result;\n}\n\n// props\nfunction parseProps(props, context) {\n  const result = {};\n\n  Object.keys(props).map((key) => {\n    result[key] = props[key];\n  });\n\n  return result;\n}\n\n//  Schema\nfunction renderSchema(schema, components, context, props = {}) {\n  if (!schema) {\n    return null;\n  }\n\n  return (Array.isArray(schema) ? schema : [schema]).map((item, key) => {\n    if (item.componentName) {\n      //  children \n      return React.createElement(\n        components?.get(item.componentName)?.view ||\n          toLower(item.componentName),\n        {\n          ...parseProps(item.props || {}, context),\n          className: item.id,\n          key,\n          __componentName: item.componentName,\n          __id: item.id,\n          ...props,\n        },\n        renderSchema(item.children, components, context, props)\n      );\n    }\n\n    return item; // \n  });\n}\n\n// \nfunction appendStyle({ id, css }) {\n  const _oldEl = document.getElementById(\"style-\" + id);\n  if (_oldEl) {\n    _oldEl.innerHTML = css;\n    return;\n  }\n\n  const el = document.createElement(\"style\");\n\n  el.setAttribute(\"type\", \"text/css\");\n  el.setAttribute(\"id\", \"style-\" + id);\n  el.innerHTML = css;\n\n  document.getElementsByTagName(\"head\")[0].appendChild(el);\n}\n\nexport default {\n  renderStyle,\n  renderSchema,\n  appendStyle,\n};\n","import React from \"react\";\nimport Logger from \"lp-logger\";\nimport classnames from \"classnames\";\nimport { observer } from \"mobx-react\";\nimport utils from \"./utils\";\n\nimport \"./index.less\";\n\nconst logger = new Logger({\n  name: \"le-DesignRender\",\n  level: \"error\",\n});\nclass DesignRender extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {}\n\n  render() {\n    logger.log(\"render\");\n    const {\n      dsl,\n      component,\n      style = {},\n      className,\n      getComponentInstance,\n    } = this.props;\n\n    // todo: clear unuse style\n    utils.renderStyle(dsl).map((item) => utils.appendStyle(item));\n\n    return (\n      <div className={classnames(\"design-render\", className)} style={style}>\n        {utils.renderSchema(dsl, component, this, {\n          ref: getComponentInstance,\n        })}\n      </div>\n    );\n  }\n}\n\nexport default observer(DesignRender);\nexport { utils };\n","import React from \"react\";\nimport ReactDOM, { createPortal } from \"react-dom\";\n\nimport \"./index.less\";\n\nexport default class HoverGhost extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.portalDom = document.createElement(\"div\");\n    document.body.appendChild(this.portalDom);\n  }\n  getEl() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  setStyle(styles) {\n    const el = this.getEl();\n\n    Object.entries(styles).map((item) => {\n      el.style[item[0]] = item[1];\n    });\n  }\n\n  setName(text) {\n    const el = ReactDOM.findDOMNode(this.refName);\n\n    el.textContent = text;\n  }\n\n  setNode(el, nodeInfo) {\n    if (!el) {\n      this.setStyle({\n        display: \"none\",\n      });\n\n      return;\n    }\n\n    const {\n      left: boundLeft,\n      top: boundTop,\n      width: boundWidth,\n      height: boundHeight,\n    } = el.getBoundingClientRect();\n    const width = el.offsetWidth;\n    const height = el.offsetHeight;\n    // const centerPointer = {\n    //   x: boundLeft + boundWidth / 2,\n    //   y: boundTop + boundHeight / 2,\n    // };\n\n    //  left/top ?\n    // const left = centerPointer.x - width / 2;\n    // const top = centerPointer.y - height / 2;\n\n    this.setStyle({\n      left: boundLeft + \"px\",\n      top: boundTop + \"px\",\n      width: width + \"px\",\n      height: height + \"px\",\n      display: \"block\",\n      // transform: ,\n    });\n    this.setName(nodeInfo.componentInfo.title);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.portalDom);\n  }\n\n  render() {\n    return createPortal(\n      <div\n        ref={(_) => (this.ref = _)}\n        className=\"panel-canvas-base-hover-ghost\"\n      >\n        <div\n          ref={(_) => (this.refName = _)}\n          className=\"panel-canvas-base-hover-ghost-name\"\n        ></div>\n      </div>,\n      this.portalDom\n    );\n  }\n}\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nimport \"./line.less\";\n\nexport default class extends React.Component {\n  static defaultProps = {\n    type: \"hor\", // ver\n    color: \"#f759ab\",\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      size: \"0\",\n      x: \"0\",\n      y: \"0\",\n    };\n  }\n\n  setPos({ size, x, y }) {\n    this.setState({\n      size,\n      x,\n      y,\n    });\n  }\n\n  render() {\n    const { type, color } = this.props;\n    const { size, x, y } = this.state;\n    const sizeStyle = {\n      left: x,\n      top: y,\n      borderColor: color,\n    };\n\n    if (type == \"hor\") {\n      sizeStyle.width = size;\n    } else {\n      sizeStyle.height = size;\n    }\n\n    return (\n      <div\n        className={classnames(\"reference-line\", \"reference-line-\" + type)}\n        style={sizeStyle}\n      ></div>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/del.e6962b35.svg\";","export default __webpack_public_path__ + \"static/media/drag.fa656f9f.svg\";","export default __webpack_public_path__ + \"static/media/copy.8788c23f.svg\";","export default __webpack_public_path__ + \"static/media/top.b88164e7.svg\";","export default __webpack_public_path__ + \"static/media/bottom.d38bfaa6.svg\";","import React from \"react\";\nimport ReactDOM, { createPortal } from \"react-dom\";\nimport { throttle } from \"lodash\";\nimport Logger from \"lp-logger\";\nimport Line from \"./line\";\n\nimport SvgDel from \"./images/del.svg\";\nimport SvgCopy from \"./images/copy.svg\";\nimport SvgDrag from \"./images/drag.svg\";\nimport SvgTop from \"./images/top.svg\";\nimport SvgBottom from \"./images/bottom.svg\";\n\nimport \"./index.less\";\n\nconst logger = new Logger({\n  name: \"le-SelectGhost\",\n  level: \"error\",\n});\n\nexport default class SelectGhost extends React.PureComponent {\n  static defaultProps = {\n    canResize: false,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this._node = this.startDrag = this.startMoveDir = null;\n    this.refMask =\n      this.ref =\n      this.refTopHorLine =\n      this.refLeftVerLine =\n      this.refRightVerLine =\n        null;\n    this.startPos = {};\n    this.attractDelta = 10;\n\n    this.handleClickResize = this.handleClickResize.bind(this);\n    this.handleWindowResize = throttle(this.handleClickResize.bind(this), 300);\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleDel = this.handleDel.bind(this);\n    this.handleToBottom = this.handleToBottom.bind(this);\n    this.handleToTop = this.handleToTop.bind(this);\n\n    this.portalDom = document.createElement(\"div\");\n    document.body.appendChild(this.portalDom);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"click\", this.handleClickResize);\n    window.addEventListener(\"resize\", this.handleWindowResize);\n    window.addEventListener(\"keyup\", this.handleWindowResize);\n\n    window.addEventListener(\"mouseup\", this.handleMouseUp);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"click\", this.handleClickResize);\n    window.removeEventListener(\"resize\", this.handleWindowResize);\n    window.addEventListener(\"keyup\", this.handleWindowResize);\n    window.removeEventListener(\"mouseup\", this.handleMouseUp);\n\n    document.body.removeChild(this.portalDom);\n  }\n\n  getEl() {\n    return ReactDOM.findDOMNode(this.ref);\n  }\n\n  setStyle(styles) {\n    const el = this.getEl();\n\n    el &&\n      Object.entries(styles).map((item) => {\n        el.style[item[0]] = item[1];\n      });\n  }\n\n  setName(text) {\n    const el = ReactDOM.findDOMNode(this.refName);\n\n    el.textContent = text;\n  }\n\n  _setNodeStyle() {\n    const el = this._node?.el;\n    const { canvasDomId } = this.props;\n\n    if (!el) {\n      this.setStyle({\n        display: \"none\",\n      });\n\n      return;\n    }\n\n    const canvasDom = document.getElementById(canvasDomId);\n    const canvasPosition = canvasDom.getBoundingClientRect();\n    const {\n      left: boundLeft,\n      top: boundTop,\n      right: boundRight,\n      bottom: boundBottom,\n      width: boundWidth,\n      height: boundHeight,\n    } = el.getBoundingClientRect();\n    const width = el.offsetWidth;\n    const height = el.offsetHeight;\n    // const centerPointer = {\n    //   x: boundLeft + boundWidth / 2,\n    //   y: boundTop + boundHeight / 2,\n    // };\n\n    //  left/top ?\n    // const left = centerPointer.x - width / 2;\n    // const top = centerPointer.y - height / 2;\n\n    // todo \n    this.setStyle({\n      left: boundLeft + \"px\",\n      top: boundTop + \"px\",\n      width: width + \"px\",\n      height: height + \"px\",\n      display: \"block\",\n      // transform: ,\n    });\n\n    // op\n    const opHeight = 30;\n    const opStyle = {\n      left: \"unset\",\n      top: \"unset\",\n      right: \"unset\",\n      bottom: \"unset\",\n    };\n\n    if (boundTop < opHeight) {\n      opStyle.bottom = -1 * opHeight + \"px\";\n    } else if (boundBottom < opHeight) {\n      opStyle.top = -1 * opHeight + \"px\";\n    } else {\n      opStyle.top = -1 * opHeight + \"px\";\n    }\n    if (boundLeft < 0) {\n      opStyle.right = 0;\n    } else if (boundRight > window.innerWidth) {\n      opStyle.left = 0;\n    } else {\n      opStyle.right = 0;\n    }\n\n    Object.entries(opStyle).map(\n      ([name, value]) => (this.refOp.style[name] = value)\n    );\n  }\n\n  // todo: resize canvas\n  // canvasselect\n  handleClickResize() {\n    this._setNodeStyle();\n  }\n\n  setNode(nodeInfo) {\n    const { ctx } = this.props;\n\n    ctx?.get(\"event\")?.emit(\"le.node.select\", nodeInfo);\n    this._node = nodeInfo;\n    this._setNodeStyle();\n  }\n\n  handleMouseDown(e) {\n    e.stopPropagation();\n    e.preventDefault();\n\n    const { onDragStart } = this.props;\n    const el = this._node?.el;\n\n    this.startPos = {\n      //  clientX getBoundingClientRect \n      mouseX: e.target.getBoundingClientRect().x + e.target.offsetWidth / 2,\n      mouseY: e.target.getBoundingClientRect().y + +e.target.offsetHeight / 2,\n      // ? margin\n      width: this.ref.clientWidth,\n      height: this.ref.clientHeight,\n      top: parseInt(this.ref.offsetTop) || 0,\n      left: parseInt(this.ref.offsetLeft) || 0,\n      selectTop: parseInt(el.offsetTop) || 0,\n      selectLeft: parseInt(el.offsetLeft) || 0,\n      dir: e.target.dataset.dir,\n      selectStyle: el.style,\n    };\n\n    window.addEventListener(\"mousemove\", this.handleMouseMove);\n\n    // \n    if (e.target.classList.contains(\"panel-canvas-base-select-ghost-drag\")) {\n      onDragStart?.();\n      this.startDrag = true;\n      // \n      el.style.transition = \"none\";\n      return;\n    }\n\n    // \n    if (e.target.classList.contains(\"panel-canvas-base-select-ghost-block\")) {\n      this.startMoveDir = true;\n      // \n      el.style.transition = \"none\";\n      return;\n    }\n  }\n\n  handleMouseMove(e) {\n    const { onDrag, canvasDomId } = this.props;\n    const el = this._node?.el;\n    const canvasDom = document.getElementById(canvasDomId);\n    const canvasPosition = canvasDom.getBoundingClientRect();\n    const elStyle = {};\n    let diffPos = {\n      left: e.clientX - this.startPos.mouseX,\n      top: e.clientY - this.startPos.mouseY,\n    };\n\n    // \n    if (this.startDrag) {\n      this.refMask.style.display = \"block\";\n      this.ref.style.zIndex = 99999;\n\n      let dealTop = this.startPos.top + diffPos.top;\n      let dealLeft = this.startPos.left + diffPos.left;\n\n      //  \n      if (\n        dealTop >= -1 * this.attractDelta + canvasPosition.top &&\n        dealTop <= this.attractDelta + canvasPosition.top\n      ) {\n        this.ref.style.top = canvasPosition.top + \"px\";\n        elStyle.top = 0;\n        this.refTopHorLine.setPos({\n          size: canvasPosition.width + \"px\",\n          x: canvasPosition.left + \"px\",\n          y: canvasPosition.top + \"px\",\n        });\n      }\n      //  \n      else if (\n        dealTop + this.startPos.height >=\n          -1 * this.attractDelta + canvasPosition.bottom &&\n        dealTop + this.startPos.height <=\n          this.attractDelta + canvasPosition.bottom\n      ) {\n        this.ref.style.top =\n          canvasPosition.bottom - this.startPos.height + \"px\";\n        elStyle.top = canvasPosition.height - this.startPos.height + \"px\";\n        this.refBottomHorLine.setPos({\n          size: canvasPosition.width + \"px\",\n          x: canvasPosition.left + \"px\",\n          y: canvasPosition.bottom + \"px\",\n        });\n      } else {\n        this.ref.style.top = this.startPos.top + diffPos.top + \"px\";\n        elStyle.top = this.startPos.selectTop + diffPos.top + \"px\";\n\n        this.refTopHorLine.setPos({ size: 0 });\n        this.refBottomHorLine.setPos({ size: 0 });\n      }\n\n      //  \n      if (\n        dealLeft >= -1 * this.attractDelta + canvasPosition.left &&\n        dealLeft <= this.attractDelta + canvasPosition.left\n      ) {\n        this.ref.style.left = canvasPosition.left + \"px\";\n        elStyle.left = 0;\n        this.refLeftVerLine.setPos({\n          size: canvasPosition.height + \"px\",\n          x: canvasPosition.left + \"px\",\n          y: canvasPosition.top + \"px\",\n        });\n      }\n      //  \n      else if (\n        dealLeft + this.startPos.width >=\n          -1 * this.attractDelta + canvasPosition.right &&\n        dealLeft + this.startPos.width <=\n          this.attractDelta + canvasPosition.right\n      ) {\n        this.ref.style.left = canvasPosition.right - this.startPos.width + \"px\";\n        elStyle.left = canvasPosition.width - this.startPos.width + \"px\";\n        this.refRightVerLine.setPos({\n          size: canvasPosition.height + \"px\",\n          x: canvasPosition.right + \"px\",\n          y: canvasPosition.top + \"px\",\n        });\n      } else {\n        this.ref.style.left = this.startPos.left + diffPos.left + \"px\";\n        elStyle.left = this.startPos.selectLeft + diffPos.left + \"px\";\n\n        this.refLeftVerLine.setPos({ size: 0 });\n        this.refRightVerLine.setPos({ size: 0 });\n      }\n\n      el.style.left = elStyle.left;\n      el.style.top = elStyle.top;\n\n      onDrag?.(elStyle);\n      return;\n    }\n\n    // \n    if (this.startMoveDir) {\n      // \n      if (this.startPos.dir[0] == \"t\") {\n        // \n        {\n          //  \n          let dealTop = this.startPos.top + diffPos.top;\n          if (\n            dealTop >= -1 * this.attractDelta + canvasPosition.top &&\n            dealTop <= this.attractDelta + canvasPosition.top\n          ) {\n            this.ref.style.top = canvasPosition.top + \"px\";\n            this.ref.style.height =\n              this.startPos.height -\n              (canvasPosition.top - this.startPos.mouseY) +\n              \"px\";\n            elStyle.top = 0 + \"px\";\n            elStyle.height =\n              this.startPos.height -\n              (canvasPosition.top - this.startPos.mouseY) +\n              \"px\";\n\n            this.refTopHorLine.setPos({\n              size: canvasPosition.width + \"px\",\n              x: canvasPosition.left + \"px\",\n              y: canvasPosition.top + \"px\",\n            });\n          } else {\n            this.ref.style.top = this.startPos.top + diffPos.top + \"px\";\n            this.ref.style.height = this.startPos.height - diffPos.top + \"px\";\n            elStyle.top = this.startPos.selectTop + diffPos.top + \"px\";\n            elStyle.height = this.startPos.height - diffPos.top + \"px\";\n\n            this.refTopHorLine.setPos({ size: 0 });\n          }\n        }\n      } else if (this.startPos.dir[0] == \"b\") {\n        // \n        {\n          //  \n          let dealTop = this.startPos.top + diffPos.top;\n          if (\n            dealTop + this.startPos.height >=\n              -1 * this.attractDelta + canvasPosition.bottom &&\n            dealTop + this.startPos.height <=\n              this.attractDelta + canvasPosition.bottom\n          ) {\n            this.ref.style.height =\n              this.startPos.height +\n              (canvasPosition.bottom - this.startPos.mouseY) +\n              \"px\";\n            elStyle.height =\n              this.startPos.height +\n              (canvasPosition.bottom - this.startPos.mouseY) +\n              \"px\";\n\n            this.refBottomHorLine.setPos({\n              size: canvasPosition.width + \"px\",\n              x: canvasPosition.left + \"px\",\n              y: canvasPosition.bottom + \"px\",\n            });\n          } else {\n            this.ref.style.height = this.startPos.height + diffPos.top + \"px\";\n            elStyle.height = this.startPos.height + diffPos.top + \"px\";\n\n            this.refBottomHorLine.setPos({ size: 0 });\n          }\n        }\n      }\n      if (this.startPos.dir[1] == \"l\") {\n        // \n        {\n          let dealLeft = this.startPos.left + diffPos.left;\n\n          //  \n          if (\n            dealLeft >= -1 * this.attractDelta + canvasPosition.left &&\n            dealLeft <= this.attractDelta + canvasPosition.left\n          ) {\n            this.ref.style.left = canvasPosition.left + \"px\";\n            this.ref.style.width =\n              this.startPos.width -\n              (canvasPosition.left - this.startPos.mouseX) +\n              \"px\";\n            elStyle.left = 0;\n            elStyle.width =\n              this.startPos.width -\n              (canvasPosition.left - this.startPos.mouseX) +\n              \"px\";\n\n            this.refLeftVerLine.setPos({\n              size: canvasPosition.height + \"px\",\n              x: canvasPosition.left + \"px\",\n              y: canvasPosition.top + \"px\",\n            });\n          } else {\n            this.ref.style.left = this.startPos.left + diffPos.left + \"px\";\n            this.ref.style.width = this.startPos.width - diffPos.left + \"px\";\n            elStyle.left = this.startPos.selectLeft + diffPos.left + \"px\";\n            elStyle.width = this.startPos.width - diffPos.left + \"px\";\n\n            this.refLeftVerLine.setPos({\n              size: 0,\n            });\n          }\n        }\n      } else if (this.startPos.dir[1] == \"r\") {\n        // \n        {\n          let dealLeft = this.startPos.left + diffPos.left;\n\n          //  \n          if (\n            dealLeft + this.startPos.width >=\n              -1 * this.attractDelta + canvasPosition.right &&\n            dealLeft + this.startPos.width <=\n              this.attractDelta + canvasPosition.right\n          ) {\n            this.ref.style.width =\n              this.startPos.width +\n              (canvasPosition.right - this.startPos.mouseX) +\n              \"px\";\n            elStyle.width =\n              this.startPos.width +\n              (canvasPosition.right - this.startPos.mouseX) +\n              \"px\";\n\n            this.refRightVerLine.setPos({\n              size: canvasPosition.height + \"px\",\n              x: canvasPosition.right + \"px\",\n              y: canvasPosition.top + \"px\",\n            });\n          } else {\n            this.ref.style.width = this.startPos.width + diffPos.left + \"px\";\n            elStyle.width = this.startPos.width + diffPos.left + \"px\";\n\n            this.refRightVerLine.setPos({ size: 0 });\n          }\n        }\n      }\n\n      Object.entries(elStyle).filter(([key, value]) => (el.style[key] = value));\n    }\n  }\n\n  handleMouseUp(e) {\n    e.stopPropagation();\n    e.preventDefault();\n\n    window.removeEventListener(\"mousemove\", this.handleMouseMove);\n\n    const { onDragEnd } = this.props;\n\n    // click\n    (this.startDrag || this.startMoveDir) &&\n      setTimeout(() => {\n        const cssObj = {\n          left: (this._node?.el?.offsetLeft || 0) + \"px\",\n          top: (this._node?.el?.offsetTop || 0) + \"px\",\n        };\n\n        this._node?.el?.style?.width &&\n          (cssObj.width = this._node?.el?.style?.width);\n        this._node?.el?.style?.height &&\n          (cssObj.height = this._node?.el?.style?.height);\n\n        // reset el style\n        this._node.el.style = this.startPos.selectStyle;\n        onDragEnd?.(cssObj, this._node);\n      });\n\n    // \n    this.startDrag = this.startMoveDir = false;\n    this.refMask.style.display = \"none\";\n    this.ref.style.zIndex = 800;\n    this.refTopHorLine.setPos({ size: 0 });\n    this.refBottomHorLine.setPos({ size: 0 });\n    this.refLeftVerLine.setPos({ size: 0 });\n    this.refRightVerLine.setPos({ size: 0 });\n  }\n\n  handleDel() {\n    const { ctx, onDel } = this.props;\n\n    ctx?.get(\"event\")?.emit(\"le.node.select\");\n    onDel?.(this._node);\n    this.setNode(null);\n  }\n\n  handleToTop() {\n    const { ctx, onToTop } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n    const { componentInstance } = ctx.get(\"canvas\");\n    const currentId = this._node.dslInfo.id;\n    const currentCss = this._node.dslInfo.props.css;\n    const zIndexsComponent = {};\n    let replaceId = null;\n    let replaceCss = \"\";\n\n    dslManager.dsl.page.map(({ id, props }, index, arr) => {\n      const ref = componentInstance.get(id);\n      const el = ReactDOM.findDOMNode(ref);\n      const zIndex = getComputedStyle(el).getPropertyValue(\"z-index\");\n\n      if (zIndex == arr.length - 1) {\n        replaceId = id;\n        replaceCss = props.css;\n      }\n\n      zIndexsComponent[id] = zIndex;\n    });\n\n    if (!(zIndexsComponent[currentId] == dslManager.dsl.page.length - 1)) {\n      onToTop?.({\n        currentId,\n        currentCss,\n        replaceId,\n        replaceCss,\n        value: dslManager.dsl.page.length - 1,\n        swapValue: getComputedStyle(this._node.el).getPropertyValue(\"z-index\"),\n      });\n    }\n  }\n\n  handleToBottom() {\n    const { ctx, onToBottom } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n    const { componentInstance } = ctx.get(\"canvas\");\n    const currentId = this._node.dslInfo.id;\n    const currentCss = this._node.dslInfo.props.css;\n    const zIndexsComponent = {};\n    let replaceId = null;\n    let replaceCss = \"\";\n\n    dslManager.dsl.page.map(({ id, props }, index, arr) => {\n      const ref = componentInstance.get(id);\n      const el = ReactDOM.findDOMNode(ref);\n      const zIndex = getComputedStyle(el).getPropertyValue(\"z-index\");\n\n      if (zIndex == 0) {\n        replaceId = id;\n        replaceCss = props.css;\n      }\n\n      zIndexsComponent[id] = zIndex;\n    });\n\n    if (!(zIndexsComponent[currentId] == 0)) {\n      onToBottom?.({\n        currentId,\n        currentCss,\n        replaceId,\n        replaceCss,\n        value: 0,\n        swapValue: getComputedStyle(this._node.el).getPropertyValue(\"z-index\"),\n      });\n    }\n  }\n\n  render() {\n    const { ctx, canResize, onDrag, onDragStart, onDragEnd, onDel } =\n      this.props;\n\n    return createPortal(\n      <>\n        <div\n          ref={(_) => (this.ref = _)}\n          className=\"panel-canvas-base-select-ghost\"\n          onMouseDown={this.handleMouseDown}\n        >\n          {canResize ? (\n            <>\n              <div\n                className=\"panel-canvas-base-select-ghost-block panel-canvas-base-select-ghost-tl\"\n                data-dir=\"tl\"\n              ></div>\n              <div\n                className=\"panel-canvas-base-select-ghost-block panel-canvas-base-select-ghost-tm\"\n                data-dir=\"tm\"\n              ></div>\n              <div\n                className=\"panel-canvas-base-select-ghost-block panel-canvas-base-select-ghost-tr\"\n                data-dir=\"tr\"\n              ></div>\n              <div\n                className=\"panel-canvas-base-select-ghost-block panel-canvas-base-select-ghost-ml\"\n                data-dir=\"ml\"\n              ></div>\n              <div\n                className=\"panel-canvas-base-select-ghost-block panel-canvas-base-select-ghost-mr\"\n                data-dir=\"mr\"\n              ></div>\n              <div\n                className=\"panel-canvas-base-select-ghost-block panel-canvas-base-select-ghost-bl\"\n                data-dir=\"bl\"\n              ></div>\n              <div\n                className=\"panel-canvas-base-select-ghost-block panel-canvas-base-select-ghost-bm\"\n                data-dir=\"bm\"\n              ></div>\n              <div\n                className=\"panel-canvas-base-select-ghost-block panel-canvas-base-select-ghost-br\"\n                data-dir=\"br\"\n              ></div>\n            </>\n          ) : null}\n\n          <div className=\"panel-canvas-base-select-ghost-rotate\"></div>\n          {/* todo:   */}\n          <div\n            className=\"panel-canvas-base-select-ghost-op\"\n            ref={(_) => (this.refOp = _)}\n          >\n            <div className=\"panel-canvas-base-select-ghost-drag\" title=\"\">\n              <img src={SvgDrag} />\n            </div>\n            {/* <div className=\"panel-canvas-base-select-ghost-copy\" title=\"\">\n              <img src={SvgCopy} />\n            </div> */}\n            <div\n              className=\"panel-canvas-base-select-ghost-top\"\n              title=\"\"\n              onClick={this.handleToTop}\n            >\n              <img src={SvgTop} />\n            </div>\n            <div\n              className=\"panel-canvas-base-select-ghost-bottom\"\n              title=\"\"\n              onClick={this.handleToBottom}\n            >\n              <img src={SvgBottom} />\n            </div>\n            <div\n              className=\"panel-canvas-base-select-ghost-del\"\n              title=\"\"\n              onClick={this.handleDel}\n            >\n              <img src={SvgDel} />\n            </div>\n          </div>\n        </div>\n        <div\n          ref={(_) => (this.refMask = _)}\n          className=\"panel-canvas-base-select-ghost-mask\"\n        ></div>\n        <Line ref={(_) => (this.refTopHorLine = _)} />\n        <Line ref={(_) => (this.refBottomHorLine = _)} />\n        <Line type=\"ver\" ref={(_) => (this.refLeftVerLine = _)} />\n        <Line type=\"ver\" ref={(_) => (this.refRightVerLine = _)} />\n      </>,\n      this.portalDom\n    );\n  }\n}\n","import Logger from \"lp-logger\";\nimport ReactDOM from \"react-dom\";\n\nconst logger = new Logger({\n  name: \"le-PanelCanvasBase-utils\",\n  level: \"error\",\n});\n\nfunction getComponentNodeByFiberNode(fiberNode, component, dsl) {\n  const componentInfo =\n    component.get(fiberNode?.memoizedProps?.__componentName) || null;\n\n  if (!componentInfo && fiberNode.return) {\n    return getComponentNodeByFiberNode(fiberNode.return, component, dsl);\n  }\n\n  try {\n    return {\n      componentInfo,\n      el: ReactDOM.findDOMNode(fiberNode.stateNode),\n      dslInfo: getDSLById(fiberNode.stateNode.props.__id, dsl),\n    };\n  } catch (error) {\n    return null;\n  }\n}\n\nfunction getDSLById(id, dsl) {\n  for (let i = 0; i < dsl.length; i++) {\n    const item = dsl[i];\n\n    if (item.id == id) {\n      return item;\n    }\n\n    if (Array.isArray(item.children)) {\n      const findSubItem = getDSLById(id, item.children);\n\n      if (findSubItem) {\n        return findSubItem;\n      }\n    }\n  }\n\n  return null;\n}\n\nexport { getComponentNodeByFiberNode };\n","import React from \"react\";\nimport { findDOMNode } from \"react-dom\";\nimport { observer } from \"mobx-react\";\nimport DesignRender from \"./../DesignRender\";\nimport Logger from \"lp-logger\";\nimport css from \"css\";\nimport { debounce, throttle } from \"lodash\";\nimport { utils, HoverGhost, SelectGhost } from \"./../PanelCanvasBase\";\n\nimport \"./index.less\";\n\nconst logger = new Logger({\n  name: \"le-PanelCanvasAbsolute\",\n  level: \"error\",\n});\n\nclass PanelCanvasAbsolute extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.containerId = \"panel-canvas-absolute\";\n    this.componentInstance = new Map();\n    this.currentHover =\n      this.currentSelect =\n      this.currentDragHover =\n      this.refCanvas =\n      this.refHoverGhost =\n      this.refSelectGhost =\n      this.refDesignRender =\n      this.draging =\n        null;\n    this.handleOnMouseOver = debounce(this.handleOnMouseOver.bind(this), 50);\n    this.handleOnClickCapture = this.handleOnClickCapture.bind(this);\n    this.handleOnDragOver = throttle(this.handleOnDragOver.bind(this), 300);\n    this.handleOnDrop = this.handleOnDrop.bind(this);\n    this.handleOnClick = this.handleOnClick.bind(this);\n    this.handleSelectGhostOnDragStart =\n      this.handleSelectGhostOnDragStart.bind(this);\n    this.handleSelectGhostOnDrag = this.handleSelectGhostOnDrag.bind(this);\n    this.handleSelectGhostOnDragEnd =\n      this.handleSelectGhostOnDragEnd.bind(this);\n    this.handleSelectGhostOnDel = this.handleSelectGhostOnDel.bind(this);\n    this.handleGetComponentInstance =\n      this.handleGetComponentInstance.bind(this);\n    this.handleSelectGhostOnToZIndex =\n      this.handleSelectGhostOnToZIndex.bind(this);\n    this.handleOnMouseLeave = this.handleOnMouseLeave.bind(this);\n  }\n\n  componentDidMount() {\n    const { ctx } = this.props;\n\n    ctx.set(\"canvas\", {\n      containerId: this.containerId,\n      componentInstance: this.componentInstance,\n      selectNodeById: this.selectNodeById.bind(this),\n      hoverNodeById: this.hoverNodeById.bind(this),\n    });\n    window.document.addEventListener(\"mousemove\", this.handleOnMouseOver);\n    window.document.addEventListener(\"dragover\", this.handleWinOnDragOver);\n  }\n\n  componentWillUnmount() {\n    window.document.removeEventListener(\"mousemove\", this.handleOnMouseOver);\n    window.document.removeEventListener(\"dragover\", this.handleWinOnDragOver);\n  }\n\n  handleWinOnDragOver(e) {\n    e.preventDefault();\n  }\n\n  handleOnDragOver({ target }) {\n    if (this.currentDragHover == target) {\n      return;\n    }\n\n    this.currentDragHover = target;\n    // console.log(\"handleOnDragOver\", target);\n  }\n\n  handleOnDrop({ dataTransfer }) {\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n    const componentItem = ctx\n      .get(\"component\")\n      .get(dataTransfer.getData(\"componentName\"));\n\n    if (!componentItem) {\n      return;\n    }\n\n    const { id } = dslManager.addPageDSL(componentItem);\n    setTimeout(() => {\n      const { dslInfo } = this.selectNodeById(id);\n\n      const cssObj = this._mergeCss(dslInfo.props.css, {\n        \"z-index\": dslManager.dsl.page.length - 1,\n      });\n      dslManager.setPageDslProp(\n        \"css\",\n        `:root {${Object.keys(cssObj)\n          .map((name) => `${name}:${cssObj[name]}`)\n          .join(\";\")}}`,\n        dslInfo.id\n      );\n    }, 300);\n    // console.log(\"handleOnDrop\", dataTransfer.getData(\"componentName\"));\n  }\n\n  _mergeCss(cssText, style = {}) {\n    const cssParse = css.parse(cssText, { silent: true });\n\n    if (cssParse.stylesheet.parsingErrors.length) {\n      logger.error(\": \" + cssParse.stylesheet.parsingErrors);\n      return {};\n    } else {\n      const cssObj = {};\n\n      cssParse.stylesheet.rules[0].declarations.map((item) => {\n        cssObj[item.property] = item.value;\n      });\n\n      Object.entries(style).map(([key, value]) => {\n        cssObj[key] = value;\n      });\n\n      return cssObj;\n    }\n  }\n\n  handleOnMouseOver(e) {\n    if (!this.refCanvas.contains(e.target)) {\n      this.currentHover = null;\n      return;\n    }\n\n    const { target } = e;\n    const { ctx } = this.props;\n    const fiberId = Object.keys(target).find((key) =>\n      key.startsWith(\"__reactFiber$\")\n    );\n\n    //todo: performance\n    //  node.el \n    if (target == this.currentSelect) {\n      this.refHoverGhost.setNode(null);\n      this.currentHover = null;\n      return;\n    }\n\n    if (this.currentHover == target) {\n      return;\n    }\n\n    if (!fiberId || !this.refCanvas.contains(target)) {\n      this.refHoverGhost.setNode(null);\n      this.currentHover = null;\n      return;\n    }\n\n    const node = utils.getComponentNodeByFiberNode(\n      target[fiberId],\n      ctx.get(\"component\"),\n      ctx.get(\"dsl\").dsl.page\n    );\n\n    if (!node) {\n      this.refHoverGhost.setNode(null);\n      return;\n    }\n\n    this.refHoverGhost.setNode(node.el, node);\n    this.currentHover = target;\n  }\n\n  handleOnClickCapture(e) {\n    // \n    if (!findDOMNode(this.refDesignRender).contains(e.target)) {\n      return;\n    }\n\n    e.stopPropagation();\n\n    if (this.draging) {\n      return;\n    }\n\n    const { target } = e;\n    const { ctx } = this.props;\n    const fiberId = Object.keys(target).find((key) =>\n      key.startsWith(\"__reactFiber$\")\n    );\n\n    if (this.currentSelect == target) {\n      return;\n    }\n\n    if (!fiberId || !this.refCanvas.contains(target)) {\n      this.refSelectGhost.setNode(null);\n      return;\n    }\n\n    const node = utils.getComponentNodeByFiberNode(\n      target[fiberId],\n      ctx.get(\"component\"),\n      ctx.get(\"dsl\").dsl.page\n    );\n\n    this.currentSelect = target;\n\n    if (!node) {\n      this.refSelectGhost.setNode(null);\n      return;\n    }\n\n    this.refSelectGhost.setNode(node);\n    this.refHoverGhost.setNode(null);\n  }\n\n  handleOnClick(e) {}\n\n  handleSelectGhostOnDragStart() {\n    this.draging = true;\n  }\n  handleSelectGhostOnDrag() {}\n  handleSelectGhostOnDragEnd(style, { dslInfo }) {\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n    const cssObj = this._mergeCss(dslInfo.props.css, style);\n    this.draging = false;\n\n    dslManager.setPageDslProp(\n      \"css\",\n      `:root {${Object.keys(cssObj)\n        .map((name) => `${name}:${cssObj[name]}`)\n        .join(\";\")}}`,\n      dslInfo.id\n    );\n  }\n  handleSelectGhostOnDel({ dslInfo }) {\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n\n    dslManager.delPageDsl(dslInfo.id);\n    this.currentSelect = this.currentHover = null;\n  }\n\n  handleGetComponentInstance(ref) {\n    if (!ref?.props?.__id) {\n      return;\n    }\n    // todo: sync\n    this.componentInstance.set(ref.props.__id, ref);\n  }\n\n  handleSelectGhostOnToZIndex({\n    currentId,\n    currentCss,\n    replaceId,\n    replaceCss,\n    value,\n    swapValue,\n  }) {\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n\n    if (currentId == replaceId) {\n      return;\n    }\n\n    dslManager.setPageDslProp(\n      \"css\",\n      `:root {${Object.entries(this._mergeCss(currentCss, { \"z-index\": value }))\n        .map(([name, value]) => `${name}:${value}`)\n        .join(\";\")}}`,\n      currentId\n    );\n\n    replaceId &&\n      dslManager.setPageDslProp(\n        \"css\",\n        `:root {${Object.entries(\n          this._mergeCss(replaceCss, { \"z-index\": swapValue })\n        )\n          .map(([name, value]) => `${name}:${value}`)\n          .join(\";\")}}`,\n        replaceId\n      );\n  }\n\n  selectNodeById(id) {\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n    const component = ctx.get(\"component\");\n\n    if (!this.componentInstance.get(id)) {\n      this.currentSelect = null;\n      this.refSelectGhost.setNode(null);\n      return;\n    }\n\n    const node = {\n      el: findDOMNode(this.componentInstance.get(id)),\n      dslInfo: dslManager.getPageDSL(id),\n    };\n    node.componentInfo = component.get(node.dslInfo.componentName);\n    this.refSelectGhost.setNode(node);\n    this.currentSelect = node.el;\n    return node;\n  }\n\n  hoverNodeById(id) {\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n    const component = ctx.get(\"component\");\n    let el;\n\n    if (!this.componentInstance.get(id)) {\n      this.refHoverGhost.setNode(null);\n      this.currentHover = null;\n      return;\n    }\n\n    //  dsl \n    // react  react  dom \n    try {\n      el = findDOMNode(this.componentInstance.get(id));\n    } catch (error) {\n      return;\n    }\n\n    const node = {\n      el,\n      dslInfo: dslManager.getPageDSL(id),\n    };\n    node.componentInfo = component.get(node.dslInfo.componentName);\n    this.refHoverGhost.setNode(node.el, node);\n    this.currentHover = node.el;\n    return node;\n  }\n\n  handleOnMouseLeave() {\n    this.refHoverGhost.setNode(null);\n  }\n\n  render() {\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n    const component = ctx.get(\"component\");\n\n    logger.log(\"render\");\n\n    return (\n      // \n      <div>\n        <div\n          className=\"panel-canvas-absolute\"\n          id={this.containerId}\n          onClickCapture={this.handleOnClickCapture}\n          onClick={this.handleOnClick}\n          onDragOver={this.handleOnDragOver}\n          onDrop={this.handleOnDrop}\n          onMouseLeave={this.handleOnMouseLeave}\n          ref={(_) => (this.refCanvas = _)}\n        >\n          {/* {!children ? <div className=\"panel-canvas-empty-block\"></div> : null} */}\n          <SelectGhost\n            ref={(_) => (this.refSelectGhost = _)}\n            canvasDomId={this.containerId}\n            ctx={ctx}\n            canResize\n            onDragStart={this.handleSelectGhostOnDragStart}\n            onDragEnd={this.handleSelectGhostOnDragEnd}\n            onDel={this.handleSelectGhostOnDel}\n            onToTop={this.handleSelectGhostOnToZIndex}\n            onToBottom={this.handleSelectGhostOnToZIndex}\n          />\n          <HoverGhost ref={(_) => (this.refHoverGhost = _)} />\n\n          {/* todo:  el absolute  dsl \n         transition el \n        */}\n          <DesignRender\n            ref={(_) => (this.refDesignRender = _)}\n            className=\"panel-canvas-absolute-render\"\n            dsl={dslManager.dsl.page}\n            component={component}\n            style={{ height: \"100%\" }}\n            getComponentInstance={this.handleGetComponentInstance}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default observer(PanelCanvasAbsolute);\n","import React from \"react\";\nimport { Button, InputNumber } from \"antd\";\nimport { SwapOutlined } from \"@ant-design/icons\";\n\nimport \"antd/lib/button/style/index.css\";\nimport \"antd/lib/input-number/style/index.css\";\n\nclass PanelResizeCanvas extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // d2 size\n      x: 600,\n      y: 400,\n    };\n\n    this.type = \"hor\"; // ver\n    this.typeMap = {\n      hor: '{\"page\":[{\"id\":\"Picture_xJ27Wh9O3muw6haQPoKsO\",\"componentName\":\"Picture\",\"props\":{\"url\":\"https://img.alicdn.com/imgextra/i3/O1CN01oNV2HE1wltLn3iEtB_!!6000000006349-55-tps-300-200.svg\",\"css\":\":root {width:600px;z-index:0;left:0px;top:0px}\"}},{\"id\":\"Logo_pQj-9HV36c7jzCq-gDafJ\",\"componentName\":\"Logo\",\"props\":{\"type\":\"jx\",\"css\":\":root {width:129px;z-index:1;left:449px;top:290px}\"}}]}',\n      ver: '{\"page\":[{\"id\":\"Picture_MarA0CsrJqB4bUGRkIRKi\",\"componentName\":\"Picture\",\"props\":{\"url\":\"https://img.alicdn.com/imgextra/i4/O1CN01N0gbIu1a6Hp83Ytej_!!6000000003280-55-tps-200-300.svg\",\"css\":\":root {width:400px;z-index:0;left:0px;top:0px}\"}},{\"id\":\"Logo_3Lrzrwj_iKJqPIouRipMt\",\"componentName\":\"Logo\",\"props\":{\"type\":\"jx\",\"css\":\":root {width:129px;z-index:2;left:271px;top:498px}\"}}]}',\n    };\n\n    this.handleOnKeyExchange = this.handleOnKeyExchange.bind(this);\n  }\n\n  componentDidMount() {\n    const { x, y } = this.state;\n    setTimeout(() => {\n      this.changeDomSize(x, y);\n      this.changeDSL();\n    });\n    window.addEventListener(\"keydown\", this.handleOnKeyExchange);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleOnKeyExchange);\n  }\n\n  handleOnKeyExchange(e) {\n    // cmd + X\n    if ((e.ctrlKey || e.metaKey) && e.keyCode == 88) {\n      e.preventDefault();\n      this.exchange();\n    }\n  }\n\n  handleOnChange(name, value) {\n    this.setState({ [name]: value }, () => {\n      const { x, y } = this.state;\n      this.changeDomSize(x, y);\n    });\n  }\n\n  changeDomSize(x, y) {\n    const { ctx } = this.props;\n    const canvasDOM = document.getElementById(ctx.get(\"canvas\").containerId);\n\n    canvasDOM.style.width = x + \"px\";\n    canvasDOM.style.height = y + \"px\";\n  }\n\n  changeDSL() {\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n\n    dslManager.setDSL(JSON.parse(this.typeMap[this.type]));\n    // \n    ctx.get(\"canvas\").selectNodeById();\n  }\n\n  exchange() {\n    const { x, y } = this.state;\n\n    this.type = this.type == \"hor\" ? \"ver\" : \"hor\";\n    this.setState(\n      {\n        x: y,\n        y: x,\n      },\n      () => {\n        const { x, y } = this.state;\n        this.changeDomSize(x, y);\n        this.changeDSL();\n      }\n    );\n  }\n\n  render() {\n    const { x, y } = this.state;\n    //\n    return (\n      <div>\n        <InputNumber\n          size=\"small\"\n          value={x}\n          onChange={(value) => this.handleOnChange(\"x\", value)}\n        />\n        &nbsp;x&nbsp;\n        <InputNumber\n          size=\"small\"\n          value={y}\n          onChange={(value) => this.handleOnChange(\"y\", value)}\n        />\n        <Button\n          type=\"text\"\n          icon={<SwapOutlined />}\n          onClick={() => {\n            this.exchange();\n          }}\n        >\n          (Cmd+X)\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default PanelResizeCanvas;\n","export default __webpack_public_path__ + \"static/media/page.f2be2014.svg\";","export default __webpack_public_path__ + \"static/media/group.f35c57f1.svg\";","export default __webpack_public_path__ + \"static/media/link.98c02ce7.svg\";","import React from \"react\";\nimport svgPage from \"./static/page.svg\";\nimport svgGroup from \"./static/group.svg\";\nimport svgLink from \"./static/link.svg\";\nimport \"./TreeNode.css\";\n\nexport default class TreeNode extends React.Component {\n  static defaultProps = {\n    type: \"page\",\n    title: \"\",\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  renderIcon() {\n    if (this.props.renderIcon) {\n      return this.props.renderIcon(this.props.type, this.props);\n    }\n\n    const getSvg = {\n      page: svgPage,\n      group: svgGroup,\n      link: svgLink,\n    };\n\n    return getSvg[this.props.type] ? (\n      <img\n        className=\"lp-react-tree-drag-TreeNode-icon\"\n        src={getSvg[this.props.type]}\n      />\n    ) : null;\n  }\n\n  renderTitle() {\n    if (this.props.renderTitle) {\n      return this.props.renderTitle(this.props.title, this.props);\n    }\n\n    return (\n      <div\n        className=\"lp-react-tree-drag-TreeNode-title\"\n        data-__lp_tree_node_id={this.props.id}\n      >\n        {this.props.renderTitle\n          ? this.props.renderTitle(this.props.title, this.props)\n          : this.props.title}\n      </div>\n    );\n  }\n\n  renderOp() {\n    return (\n      <div\n        className=\"lp-react-tree-drag-TreeNode-op\"\n        data-__lp_tree_node_id={this.props.id}\n      >\n        {this.props.renderOp ? this.props.renderOp(this.props) : null}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div\n        className=\"lp-react-tree-drag-TreeNode\"\n        onDragStart={(e) => {\n          const dom = e.currentTarget;\n          dom.classList.add(\"lp-react-tree-drag-TreeNode-dragStart\");\n          this.props.onTreeNodeDragStart && this.props.onTreeNodeDragStart(e);\n        }}\n        onDragEnd={(e) => {\n          const dom = e.currentTarget;\n          dom.classList.remove(\"lp-react-tree-drag-TreeNode-dragStart\");\n          this.props.onTreeNodeDragEnd && this.props.onTreeNodeDragEnd(e);\n        }}\n        onDragOver={(e) => e.preventDefault()}\n        data-__lp_tree_node_id={this.props.id}\n      >\n        <div\n          className=\"lp-react-tree-drag-TreeNode-left\"\n          draggable\n          data-__lp_tree_node_id={this.props.id}\n        >\n          {this.renderIcon()}\n          {this.renderTitle()}\n        </div>\n        {this.renderOp()}\n      </div>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/arrow.5e646b37.svg\";","import React from \"react\";\nimport { get } from \"lodash\";\nimport classnames from \"classnames\";\nimport TreeNode from \"./TreeNode.jsx\";\nimport svgArrow from \"./static/arrow.svg\";\nimport \"./TreeGroup.css\";\n\nexport default class TreeGroup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      expanded: this.props.expanded,\n    });\n  }\n\n  render() {\n    const { children, expandedAll, showLine } = this.props;\n    const { expanded } = this.state;\n    return (\n      <div\n        className={classnames(\"lp-react-tree-drag-TreeGroup\", {\n          \"lp-react-tree-drag-TreeGroup-collapse\": !expanded,\n        })}\n        onDragOver={(e) => {\n          e.currentTarget.lastChild.lastChild.classList.add(\n            \"lp-react-tree-drag-TreeGroup-enter\"\n          );\n          e.stopPropagation();\n          e.preventDefault();\n        }}\n        onDragLeave={(e) => {\n          e.currentTarget.lastChild.lastChild.classList.remove(\n            \"lp-react-tree-drag-TreeGroup-enter\"\n          );\n        }}\n      >\n        <img\n          className=\"lp-react-tree-drag-TreeGroup-arrow\"\n          src={svgArrow}\n          onClick={() =>\n            this.setState({\n              expanded: !expanded,\n            })\n          }\n        />\n        <div className=\"lp-react-tree-drag-TreeGroup-node\">\n          <TreeNode\n            {...this.props}\n            onTreeNodeDragStart={(e) => {\n              this.setState({\n                expanded: false,\n              });\n            }}\n            onTreeNodeDragEnd={(e) => {\n              this.setState({\n                expanded: true,\n              });\n            }}\n          />\n          <div\n            className={classnames(\"lp-react-tree-drag-TreeGroup-node-ch\", {\n              \"lp-react-tree-drag-TreeGroup-node-ch-line\": showLine,\n            })}\n          >\n            {(children || []).map((node, key) =>\n              node.type == \"group\" ? (\n                <TreeGroup\n                  key={key}\n                  {...node}\n                  item={node}\n                  expanded={expandedAll ? true : node.expanded}\n                  expandedAll={expandedAll}\n                  showLine={showLine}\n                />\n              ) : (\n                <TreeNode {...node} item={node} key={key} />\n              )\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","export function addObjecKey(obj, key, value) {\n  if (Object.prototype.toString.call(obj) != \"[object Object]\") {\n    return;\n  }\n\n  obj[key] =\n    Object.prototype.toString.call(value) == \"[object Function]\"\n      ? value()\n      : value;\n\n  Array.isArray(obj.children) &&\n    obj.children.map((_obj) => addObjecKey(_obj, key, value));\n\n  return obj;\n}\n\nexport function getNodeById(data, id) {\n  for (let i = 0; i < data.length; i++) {\n    let item = data[i];\n    if (item.id == id) {\n      return item;\n    }\n\n    if (Array.isArray(item.children)) {\n      let value = getNodeById(item.children, id);\n      if (value) {\n        return value;\n      }\n    }\n  }\n}\n\nexport function getNodeByIdAndDel(data, id) {\n  for (let i = 0; i < data.length; i++) {\n    let item = data[i];\n    if (item.id == id) {\n      data.splice(i, 1);\n      return item;\n    }\n\n    if (Array.isArray(item.children)) {\n      let value = getNodeByIdAndDel(item.children, id);\n      if (value) {\n        return value;\n      }\n    }\n  }\n}\n\nexport function getNodeByIdAndMarkNext(data, id) {\n  for (let i = 0; i < data.length; i++) {\n    let item = data[i];\n    if (item.id == id) {\n      data[i] = \"next\";\n      return item;\n    }\n\n    if (Array.isArray(item.children)) {\n      let value = getNodeById(item.children, id);\n      if (value) {\n        return value;\n      }\n    }\n  }\n}\n\nexport function setNodeByIdAndInsert(data, id, value, type) {\n  if (!value) {\n    return data;\n  }\n\n  for (let i = 0; i < data.length; i++) {\n    let item = data[i];\n    if (item.id == id) {\n      if (type == \"insertBefore\") {\n        data.splice(i, 0, value);\n      } else if (type == \"appendAfter\") {\n        data.splice(i + 1, 0, value);\n      } else if (type == \"appendChild\") {\n        if (data[i].children) {\n          data[i].children.push(value);\n        } else {\n          data[i].children = [value];\n        }\n      }\n\n      break;\n    }\n\n    if (Array.isArray(item.children)) {\n      setNodeByIdAndInsert(item.children, id, value, type);\n    }\n  }\n}\n\nexport function setNodeByNext(data, value) {\n  if (!value) {\n    return data;\n  }\n\n  for (let i = 0; i < data.length; i++) {\n    let item = data[i];\n    if (item == \"next\") {\n      data[i] = value;\n\n      break;\n    }\n\n    // if (Array.isArray(item.children)) {\n    //   let value = setNodeById(item.children, id);\n    //   if (value) {\n    //     break;\n    //   }\n    // }\n  }\n\n  return data;\n}\n","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport { cloneDeep } from \"lodash\";\n\nimport TreeGroup from \"./TreeGroup.jsx\";\nimport TreeNode from \"./TreeNode.jsx\";\nimport { addObjecKey, getNodeByIdAndDel, setNodeByIdAndInsert } from \"./utils\";\nimport \"./Tree.css\";\n\nexport default class Tree extends React.Component {\n  static defaultProps = {\n    data: [],\n    expandedAll: false,\n    showLine: false,\n    key: Date.now(),\n    onHover: () => null,\n    onChange: () => null,\n    onClick: () => null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      expandedAll: false,\n      showLine: false,\n    };\n    this.dragEnterIndex =\n      this.dragEnterDOM =\n      this.dragPlaceholderIndex =\n      this.refDragPlaceholder =\n      this.data =\n      this.hoverItem =\n      this.isDraging =\n        null;\n  }\n\n  componentDidMount() {\n    this.setState({\n      data: this.props.data,\n      expandedAll: this.props.expandedAll,\n      showLine: this.props.showLine,\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.data != this.props.data) {\n      this.setState({ data: nextProps.data });\n    }\n  }\n\n  onHover({ target }) {\n    if (this.isDraging) {\n      return;\n    }\n    const { data } = this.state;\n    const id = target?.dataset[\"__lp_tree_node_id\"];\n    if (this.hoverItem == id) {\n      return;\n    }\n\n    this.hoverItem = id;\n\n    for (let index = 0; index < data?.length; index++) {\n      const item = data[index];\n\n      if (item.id == id) {\n        this.props?.onHover(item);\n        return;\n      }\n    }\n\n    this.props?.onHover({});\n  }\n\n  onClick({ target }) {\n    const { data } = this.state;\n    const id = target?.dataset[\"__lp_tree_node_id\"];\n    for (let index = 0; index < data?.length; index++) {\n      const item = data[index];\n\n      if (item.id == id) {\n        this.props?.onClick(item);\n        return;\n      }\n    }\n  }\n\n  render() {\n    const { data, expandedAll, showLine, key } = this.state;\n    const { onChange } = this.props;\n\n    return (\n      <div\n        key={key}\n        className=\"lp-react-tree-drag-Tree\"\n        onDrag={(e) => {\n          if (!this.dragEnterDOM) {\n            return;\n          }\n\n          // \n          const elParent =\n            this.dragEnterDOM.parentElement.className ==\n            \"lp-react-tree-drag-TreeGroup-node\"\n              ? this.dragEnterDOM.parentElement.lastElementChild // groupchild\n              : this.dragEnterDOM.parentElement;\n\n          // \n          const { top: enterElTop, height: enterElHeight } =\n            this.dragEnterDOM.getBoundingClientRect();\n\n          // group\n          if (\n            [...this.dragEnterDOM.classList].includes(\n              \"lp-react-tree-drag-TreeGroup-node-ch\"\n            )\n          ) {\n            if (\n              e.clientY < enterElTop + enterElHeight &&\n              e.clientY > enterElTop + enterElHeight - 5\n            ) {\n              this.dragEnterDOM.parentElement.parentElement.parentElement.insertBefore(\n                this.refDragPlaceholder,\n                this.dragEnterDOM.parentElement.parentElement.nextElementSibling\n              );\n              setNodeByIdAndInsert(\n                this.data,\n                this.dragEnterIndex,\n                getNodeByIdAndDel(this.data, this.dragPlaceholderIndex),\n                \"appendAfter\"\n              );\n            }\n            return;\n          }\n\n          // id id key\n          const placeholderData = getNodeByIdAndDel(\n            this.data,\n            this.dragPlaceholderIndex\n          );\n\n          if (e.clientY < enterElTop + enterElHeight / 2) {\n            // \n            if (\n              this.dragEnterDOM.parentElement.className ==\n              \"lp-react-tree-drag-TreeGroup-node\" //  group \n            ) {\n              this.dragEnterDOM.parentElement.parentElement.parentElement.insertBefore(\n                this.refDragPlaceholder,\n                this.dragEnterDOM.parentElement.parentElement\n              );\n            } else {\n              elParent.insertBefore(this.refDragPlaceholder, this.dragEnterDOM);\n            }\n            setNodeByIdAndInsert(\n              this.data,\n              this.dragEnterIndex,\n              placeholderData,\n              \"insertBefore\"\n            );\n          } else {\n            // \n            if (\n              this.dragEnterDOM.parentElement.className ==\n              \"lp-react-tree-drag-TreeGroup-node\" //  group \n            ) {\n              // children\n              elParent.appendChild(this.refDragPlaceholder);\n              setNodeByIdAndInsert(\n                this.data,\n                this.dragEnterIndex,\n                placeholderData,\n                \"appendChild\"\n              );\n            } else {\n              elParent.insertBefore(\n                this.refDragPlaceholder,\n                this.dragEnterDOM.nextElementSibling\n              );\n              setNodeByIdAndInsert(\n                this.data,\n                this.dragEnterIndex,\n                placeholderData,\n                \"appendAfter\"\n              );\n            }\n          }\n\n          this.dragEnterDOM = null;\n        }}\n        onDragStart={(e) => {\n          this.dragPlaceholderIndex = e.target.dataset.__lp_tree_node_id;\n          this.data = cloneDeep(data);\n          this.isDraging = true;\n        }}\n        onDragEnd={(e) => {\n          this.dragEnterDOM = null;\n          this.refDragPlaceholder.style.display = \"none\";\n          this.setState({\n            data: this.data,\n            key: Date.now(),\n          });\n          JSON.stringify(this.data) != JSON.stringify(this.state.data) &&\n            onChange?.(this.data);\n          setTimeout(() => (this.isDraging = false), 100);\n        }}\n        onDragEnter={(e) => {\n          // \n          if (\n            e.target.className == \"lp-react-tree-drag-TreeNode\" &&\n            e.target.firstElementChild.dataset.__lp_tree_node_id\n          ) {\n            this.dragEnterIndex =\n              e.target.firstElementChild.dataset.__lp_tree_node_id;\n            this.dragEnterDOM = e.target;\n          } else if (\n            [...e.target.classList].includes(\n              \"lp-react-tree-drag-TreeGroup-node-ch\"\n            )\n          ) {\n            this.dragEnterIndex =\n              e.target.parentElement.firstElementChild.firstElementChild.dataset.__lp_tree_node_id;\n            this.dragEnterDOM = e.target;\n          } else {\n            return;\n          }\n\n          // \n          this.refDragPlaceholder.style.display = \"block\";\n\n          if (\n            this.dragEnterDOM.parentElement.className ==\n            \"lp-react-tree-drag-TreeGroup-node\"\n          ) {\n            this.dragEnterDOM.parentElement.parentElement.classList.remove(\n              \"lp-react-tree-drag-TreeGroup-collapse\"\n            );\n          }\n\n          //    \n          if (\n            this.dragEnterIndex == this.dragPlaceholderIndex ||\n            !this.dragEnterIndex\n          ) {\n            return;\n          }\n        }}\n        onDragOver={(e) => e.preventDefault()}\n        onMouseOver={(e) => this.onHover(e)}\n        onMouseLeave={(e) => this.onHover({})}\n        onClick={(e) => this.onClick(e)}\n      >\n        {(data || []).map((node, key) =>\n          node.type == \"group\" ? (\n            <TreeGroup\n              key={key}\n              {...node}\n              item={node}\n              expanded={expandedAll ? true : node.expanded}\n              expandedAll={expandedAll}\n              showLine={showLine}\n            />\n          ) : (\n            <TreeNode {...node} item={node} key={key} />\n          )\n        )}\n        <div\n          className=\"lp-react-tree-drag-TreeNode-placeholder\"\n          ref={(r) => (this.refDragPlaceholder = ReactDom.findDOMNode(r))}\n        ></div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport { debounce } from \"lodash\";\nimport Logger from \"lp-logger\";\nimport Tree from \"./compoents/Tree\";\n\nimport \"./index.less\";\n\nconst logger = new Logger({\n  name: \"le-PanelOutline\",\n  level: \"error\",\n});\n\nexport default observer(\n  class extends React.Component {\n    constructor(props) {\n      super(props);\n\n      //  setDSL ref \n      this.onHover = debounce(this.onHover.bind(this), 300);\n    }\n\n    onHover(item) {\n      const { ctx } = this.props;\n      const canvas = ctx.get(\"canvas\");\n\n      canvas.hoverNodeById(item.id);\n    }\n\n    render() {\n      const { ctx } = this.props;\n      const dslManager = ctx.get(\"dsl\");\n      const canvas = ctx.get(\"canvas\");\n\n      logger.log(\"render\");\n\n      return (\n        <div className=\"panel-outline\">\n          <Tree\n            onHover={this.onHover}\n            onClick={(item) => {\n              canvas.selectNodeById(item.id);\n            }}\n            onChange={(data) => {\n              const pageDsl = data.map((item, index, arr) => {\n                const { title, props, ...other } = item;\n\n                return {\n                  ...other,\n                  props: {\n                    ...props,\n                    css: setZIndex(props.css, arr.length - index - 1),\n                  },\n                };\n              });\n\n              dslManager.setDSL({ page: pageDsl });\n            }}\n            data={dslManager.dsl.page\n              .slice()\n              .sort((a, b) => -getZIndex(a.props.css) + getZIndex(b.props.css))\n              .map((item) => ({\n                ...item,\n                title: item.componentName,\n              }))}\n          />\n        </div>\n      );\n    }\n  }\n);\n\nfunction setZIndex(str, value) {\n  return str.replace(/z-index:\\s*(-?\\d+?)/, `z-index:${value}`);\n}\n\nfunction getZIndex(str) {\n  return Number(str.match(/z-index:\\s*(-?\\d+?)/)?.[1]);\n}\n","import React from \"react\";\nimport { Input } from \"antd\";\n\nexport default class extends React.Component {\n  onChange(e) {\n    const { setValue } = this.props;\n\n    setValue(e.target.value);\n  }\n\n  render() {\n    const { value, setValue, ...otherProps } = this.props;\n\n    return (\n      <Input value={value} onChange={(e) => this.onChange(e)} {...otherProps} />\n    );\n  }\n}\n","import React from \"react\";\nimport { Select } from \"antd\";\n\nexport default class extends React.Component {\n  static defaultProps = {\n    dataSource: [],\n  };\n\n  onChange(e) {\n    const { setValue } = this.props;\n\n    setValue(e);\n  }\n\n  render() {\n    const { value, setValue, dataSource, ...otherProps } = this.props;\n\n    return (\n      <Select\n        value={value}\n        onChange={(e) => this.onChange(e)}\n        style={{ width: \"100%\" }}\n        {...otherProps}\n      >\n        {dataSource.map((item, key) => (\n          <Select.Option value={item.value} key={key}>\n            {item.title}\n          </Select.Option>\n        ))}\n      </Select>\n    );\n  }\n}\n","import TextSetter from \"./TextSetter\";\nimport SelectSetter from \"./SelectSetter\";\n\nexport default {\n  TextSetter,\n  SelectSetter,\n};\n","import React from \"react\";\nimport { Button, Input, Upload } from \"antd\";\nimport { UploadOutlined } from \"@ant-design/icons\";\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onChange(e) {\n    const { setValue } = this.props;\n\n    setValue(e.target.value);\n  }\n\n  uploadOnChange(file) {\n    const { setValue } = this.props;\n\n    setValue(URL.createObjectURL(file));\n    return false;\n  }\n\n  render() {\n    const { value, setValue, ...otherProps } = this.props;\n\n    return (\n      <div style={{ display: \"flex\" }}>\n        <Input value={value} onChange={(e) => this.onChange(e)} />\n        <Upload\n          showUploadList={false}\n          beforeUpload={(file) => this.uploadOnChange(file)}\n        >\n          <Button icon={<UploadOutlined />}></Button>\n        </Upload>\n      </div>\n    );\n  }\n}\n","import view from \"./view\";\n\nexport default view;\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nimport \"./view.less\";\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { className, url, width } = this.props;\n    return (\n      <img\n        className={classnames(className, \"banner-picture\")}\n        src={url}\n      />\n    );\n  }\n}\n","import Setters from \"./../../PropSetters\";\nimport UploaderSetter from \"./setter.uploader\";\nimport view from \"./designView\";\n\nexport default {\n  title: \"\",\n  componentName: \"Picture\",\n  category: \"\",\n  icon: (\n    <svg\n      t=\"1636864133288\"\n      viewBox=\"0 0 1024 1024\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      p-id=\"2739\"\n      width=\"128\"\n      height=\"128\"\n    >\n      <path\n        d=\"M938.666667 553.92V768c0 64.8-52.533333 117.333333-117.333334 117.333333H202.666667c-64.8 0-117.333333-52.533333-117.333334-117.333333V256c0-64.8 52.533333-117.333333 117.333334-117.333333h618.666666c64.8 0 117.333333 52.533333 117.333334 117.333333v297.92z m-64-74.624V256a53.333333 53.333333 0 0 0-53.333334-53.333333H202.666667a53.333333 53.333333 0 0 0-53.333334 53.333333v344.48A290.090667 290.090667 0 0 1 192 597.333333a286.88 286.88 0 0 1 183.296 65.845334C427.029333 528.384 556.906667 437.333333 704 437.333333c65.706667 0 126.997333 16.778667 170.666667 41.962667z m0 82.24c-5.333333-8.32-21.130667-21.653333-43.648-32.917333C796.768 511.488 753.045333 501.333333 704 501.333333c-121.770667 0-229.130667 76.266667-270.432 188.693334-2.730667 7.445333-7.402667 20.32-13.994667 38.581333-7.68 21.301333-34.453333 28.106667-51.370666 13.056-16.437333-14.634667-28.554667-25.066667-36.138667-31.146667A222.890667 222.890667 0 0 0 192 661.333333c-14.464 0-28.725333 1.365333-42.666667 4.053334V768a53.333333 53.333333 0 0 0 53.333334 53.333333h618.666666a53.333333 53.333333 0 0 0 53.333334-53.333333V561.525333zM320 480a96 96 0 1 1 0-192 96 96 0 0 1 0 192z m0-64a32 32 0 1 0 0-64 32 32 0 0 0 0 64z\"\n        p-id=\"2740\"\n      ></path>\n    </svg>\n  ),\n  view: view,\n  canOperate: true,\n  hidden: false,\n  props: [\n    {\n      name: \"url\",\n      title: \"\",\n      description: \"\",\n      supportVariable: true,\n      value:\n        \"https://img.alicdn.com/imgextra/i3/O1CN01sqfGyy1wf1PLUCJ8z_!!6000000006334-55-tps-120-120.svg\",\n      setter: <UploaderSetter />,\n      // display: \"none\",\n    },\n    // {\n    //   name: \"width\",\n    //   title: \"\",\n    //   description: \"\",\n    //   supportVariable: true,\n    //   value: \"100%\",\n    //   setter: <Setters.TextSetter />,\n    // },\n    {\n      name: \"css\",\n      value: \":root{width: 50%}\",\n      display: \"none\",\n    },\n  ],\n};\n","import view from \"./view\";\n\nexport default view;\n","import React from \"react\";\nimport { Button, Input, Upload } from \"antd\";\nimport { UploadOutlined } from \"@ant-design/icons\";\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  onChange(e) {\n    const { setValue } = this.props;\n\n    setValue(e.target.value);\n  }\n\n  uploadOnChange(file) {\n    const { setValue } = this.props;\n\n    setValue(URL.createObjectURL(file));\n    return false;\n  }\n\n  render() {\n    const { value, setValue, ...otherProps } = this.props;\n\n    return (\n      <div style={{ display: \"flex\" }}>\n        <Input value={value} onChange={(e) => this.onChange(e)} />\n        <Upload\n          showUploadList={false}\n          beforeUpload={(file) => this.uploadOnChange(file)}\n        >\n          <Button icon={<UploadOutlined />}></Button>\n        </Upload>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport classnames from \"classnames\";\n\nimport \"./view.less\";\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { className, type } = this.props;\n\n    const typeMap = {\n      jx: \"https://img.alicdn.com/imgextra/i2/O1CN01Fe2s271gk1t3ZbnNi_!!6000000004179-2-tps-1192-720.png\",\n      d2: \"https://img.alicdn.com/imgextra/i2/O1CN01FYoKj91X6nPwFoAvK_!!6000000002875-2-tps-601-105.png\",\n    };\n\n    return (\n      <img\n        className={classnames(className, \"banner-picture\")}\n        src={typeMap[type]}\n      />\n    );\n  }\n}\n","import Picture from \"./Picture/attribute\";\nimport Logo from \"./Logo/attribute\";\n\nexport default [Picture, Logo];\n","import Setters from \"./../../PropSetters\";\nimport UploaderSetter from \"./setter.uploader\";\nimport view from \"./designView\";\n\nexport default {\n  title: \"Logo\",\n  componentName: \"Logo\",\n  category: \"\",\n  icon: (\n    <svg\n      t=\"1639665991757\"\n      viewBox=\"0 0 1024 1024\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      p-id=\"7480\"\n      width=\"128\"\n      height=\"128\"\n    >\n      <path\n        d=\"M810.666667 469.333333H469.333333v255.786667h341.333334V469.333333z m170.666666 341.333334V212.48C981.333333 165.546667 942.933333 128 896 128H128C81.066667 128 42.666667 165.546667 42.666667 212.48V810.666667c0 46.933333 38.4 85.333333 85.333333 85.333333h768c46.933333 0 85.333333-38.4 85.333333-85.333333z m-85.333333 0.853333H128V212.053333h768v599.466667z\"\n        p-id=\"7481\"\n      ></path>\n    </svg>\n  ),\n  view: view,\n  canOperate: true,\n  hidden: false,\n  props: [\n    // {\n    //   name: \"url\",\n    //   title: \"\",\n    //   description: \"\",\n    //   supportVariable: true,\n    //   value:\n    //     \"https://img.alicdn.com/imgextra/i2/O1CN01Fe2s271gk1t3ZbnNi_!!6000000004179-2-tps-1192-720.png\",\n    //   setter: <UploaderSetter />,\n    //   // display: \"none\",\n    // },\n    {\n      name: \"type\",\n      title: \"\",\n      description: \"\",\n      supportVariable: true,\n      value: \"jx\",\n      setter: (\n        <Setters.SelectSetter\n          dataSource={[\n            { title: \"\", value: \"jx\" },\n            { title: \"D2\", value: \"d2\" },\n            ,\n          ]}\n        />\n      ),\n    },\n    {\n      name: \"css\",\n      value: \":root{width: 129px}\",\n      display: \"none\",\n    },\n  ],\n};\n","import React from \"react\";\nimport Logger from \"lp-logger\";\nimport MonacoEditor from \"react-monaco-editor\";\nimport { observer } from \"mobx-react\";\n\nimport \"./index.less\";\n\nconst logger = new Logger({\n  name: \"le-PanelDSL\",\n  level: \"error\",\n});\n\nclass PanelDSL extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n  }\n\n  componentDidMount() {}\n\n  render() {\n    const { ctx } = this.props;\n    const dslManager = ctx.get(\"dsl\");\n\n    logger.log(\"render\");\n\n    return (\n      <div className=\"panel-dsl\">\n        <MonacoEditor\n          language=\"json\"\n          value={JSON.stringify(dslManager.dsl, null, 2)}\n          // onChange={this.onChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default observer(PanelDSL);\n","import events from \"events\";\n\nclass SingleEventBus {\n  constructor() {\n    this.event = new events();\n  }\n\n  getEvent() {\n    return this.event;\n  }\n\n  emit(eventName, ...args) {\n    return this.event.emit(eventName, ...args);\n  }\n\n  on(eventName, callback) {\n    this.event.on(eventName, callback);\n    return () => {\n      this.event.removeListener(eventName, callback);\n    };\n  }\n\n  off(eventName, callback) {\n    return callback\n      ? this.event.removeListener(eventName, callback)\n      : this.event.removeAllListeners(eventName);\n  }\n}\n\nexport default new SingleEventBus();\n","import React from \"react\";\nimport DSL from \"./store\";\nimport Skeleton from \"./components/Skeleton\";\nimport PanelGenImg from \"./components/PanelGenImg\";\nimport PanelAbout from \"./components/PanelAbout\";\nimport PanelTpl from \"./components/PanelTpl\";\nimport PanelLogo from \"./components/PanelLogo\";\nimport PanelComponent from \"./components/PanelComponent\";\nimport PanelAttribute from \"./components/PanelAttribute\";\nimport PanelCanvasAbsolute from \"./components/PanelCanvasAbsolute\";\nimport PanelResizeCanvas from \"./components/PanelResizeCanvas\";\nimport PanelOutline from \"./components/PanelOutline\";\nimport components from \"./components/ComponentBanner\";\nimport PanelDSL from \"./components/PanelDSL\";\nimport event from \"./utils/SingleEventBus\";\n\nconst ctx = new Map();\nwindow.__ctx = ctx;\n\n// ctx event\nctx.set(\"event\", event);\n\n// ctx component\nctx.set(\"component\", new Map());\ncomponents.map((item) => {\n  ctx.get(\"component\").set(item.componentName, item);\n});\n\n// ctx dsl\nconst dslInstance = new DSL();\nctx.set(\"dsl\", dslInstance);\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    ctx.get(\"skeleton\").openDockByName(\"component\");\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <Skeleton\n          ctx={ctx}\n          topArea={[\n            {\n              content: <PanelLogo />,\n            },\n            {\n              align: \"right\",\n              content: <PanelGenImg />,\n            },\n            {\n              align: \"center\",\n              content: <PanelResizeCanvas />,\n            },\n            {\n              align: \"right\",\n              content: <PanelTpl />,\n            },\n            {\n              align: \"right\",\n              content: <PanelAbout />,\n            },\n          ]}\n          leftArea={[\n            {\n              name: \"component\",\n              title: \"\",\n              icon: \"https://img.alicdn.com/imgextra/i2/O1CN01SpaA3D1dJ3gIsZltR_!!6000000003714-2-tps-128-128.png\",\n              content: <PanelComponent />,\n            },\n            {\n              name: \"outline\",\n              title: \"\",\n              hidden: false,\n              icon: \"https://img.alicdn.com/imgextra/i1/O1CN01ED4RnW1OVgMdOEZkH_!!6000000001711-2-tps-128-128.png\",\n              content: <PanelOutline />,\n            },\n            {\n              name: \"dsl\",\n              title: \"\",\n              align: \"bottom\",\n              icon: \"https://img.alicdn.com/imgextra/i3/O1CN01liE81S23dpeqriifl_!!6000000007279-2-tps-128-128.png\",\n              content: <PanelDSL />,\n              width: \"500px\",\n              boxType: \"float\",\n            },\n          ]}\n          centerArea={[\n            {\n              content: <PanelCanvasAbsolute />,\n            },\n          ]}\n          rightArea={[\n            {\n              content: <PanelAttribute />,\n            },\n          ]}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./app\";\nimport \"./index.less\";\n\n// \n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}